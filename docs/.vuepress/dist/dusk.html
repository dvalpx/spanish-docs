<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Laravel Dusk | Documentación de Laravel en Español</title>
    <meta name="description" content="Documentación de Laravel en Español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
    
    <link rel="preload" href="/assets/css/0.styles.0cc2d3c3.css" as="style"><link rel="preload" href="/assets/js/app.bf22240a.js" as="script"><link rel="preload" href="/assets/js/5.2c350d8b.js" as="script"><link rel="prefetch" href="/assets/js/10.8a8a99df.js"><link rel="prefetch" href="/assets/js/11.ec476e2f.js"><link rel="prefetch" href="/assets/js/12.6db1eb13.js"><link rel="prefetch" href="/assets/js/13.92d78bb5.js"><link rel="prefetch" href="/assets/js/14.1a0ad5f1.js"><link rel="prefetch" href="/assets/js/15.abc982c9.js"><link rel="prefetch" href="/assets/js/16.7cf1a759.js"><link rel="prefetch" href="/assets/js/17.4abfc664.js"><link rel="prefetch" href="/assets/js/18.85b19837.js"><link rel="prefetch" href="/assets/js/19.8c9dfcd5.js"><link rel="prefetch" href="/assets/js/2.dcb6cf45.js"><link rel="prefetch" href="/assets/js/20.c1b9de54.js"><link rel="prefetch" href="/assets/js/21.469ffab3.js"><link rel="prefetch" href="/assets/js/22.2d14e150.js"><link rel="prefetch" href="/assets/js/23.7a4dcc9a.js"><link rel="prefetch" href="/assets/js/24.534e59f1.js"><link rel="prefetch" href="/assets/js/25.eaac1c07.js"><link rel="prefetch" href="/assets/js/26.8e9180e0.js"><link rel="prefetch" href="/assets/js/27.2cd2ace8.js"><link rel="prefetch" href="/assets/js/28.9f7dcf6d.js"><link rel="prefetch" href="/assets/js/29.06a87f0d.js"><link rel="prefetch" href="/assets/js/3.b62bf0b4.js"><link rel="prefetch" href="/assets/js/30.b03f86ec.js"><link rel="prefetch" href="/assets/js/31.edce81f6.js"><link rel="prefetch" href="/assets/js/32.6657300b.js"><link rel="prefetch" href="/assets/js/33.8dc49209.js"><link rel="prefetch" href="/assets/js/34.03cbee56.js"><link rel="prefetch" href="/assets/js/35.5439db2e.js"><link rel="prefetch" href="/assets/js/36.83d5a264.js"><link rel="prefetch" href="/assets/js/37.4066824e.js"><link rel="prefetch" href="/assets/js/38.c3fe05aa.js"><link rel="prefetch" href="/assets/js/39.52ef8667.js"><link rel="prefetch" href="/assets/js/4.bd0ebba2.js"><link rel="prefetch" href="/assets/js/40.2c54d702.js"><link rel="prefetch" href="/assets/js/41.775bc6e1.js"><link rel="prefetch" href="/assets/js/42.6541d60b.js"><link rel="prefetch" href="/assets/js/43.20091aea.js"><link rel="prefetch" href="/assets/js/44.75b71ccc.js"><link rel="prefetch" href="/assets/js/45.6b36a3a8.js"><link rel="prefetch" href="/assets/js/46.6ea236af.js"><link rel="prefetch" href="/assets/js/47.0e0ee374.js"><link rel="prefetch" href="/assets/js/48.b6beb9b8.js"><link rel="prefetch" href="/assets/js/49.ae33b521.js"><link rel="prefetch" href="/assets/js/50.5cb081e0.js"><link rel="prefetch" href="/assets/js/51.3e0281e2.js"><link rel="prefetch" href="/assets/js/52.e1fae1d6.js"><link rel="prefetch" href="/assets/js/53.0a9d4aed.js"><link rel="prefetch" href="/assets/js/54.55bc9113.js"><link rel="prefetch" href="/assets/js/55.e964fdb4.js"><link rel="prefetch" href="/assets/js/56.3abed8a0.js"><link rel="prefetch" href="/assets/js/57.df09269b.js"><link rel="prefetch" href="/assets/js/58.3ce37458.js"><link rel="prefetch" href="/assets/js/59.7a840aeb.js"><link rel="prefetch" href="/assets/js/6.6fce793d.js"><link rel="prefetch" href="/assets/js/60.b4fe788b.js"><link rel="prefetch" href="/assets/js/61.e45356bb.js"><link rel="prefetch" href="/assets/js/62.0d75cf78.js"><link rel="prefetch" href="/assets/js/63.0ecae205.js"><link rel="prefetch" href="/assets/js/64.90fb2c2d.js"><link rel="prefetch" href="/assets/js/65.7c476002.js"><link rel="prefetch" href="/assets/js/66.802dee8b.js"><link rel="prefetch" href="/assets/js/67.ae965c66.js"><link rel="prefetch" href="/assets/js/68.220c04d8.js"><link rel="prefetch" href="/assets/js/69.bf607b92.js"><link rel="prefetch" href="/assets/js/7.b956f78c.js"><link rel="prefetch" href="/assets/js/70.dea3d878.js"><link rel="prefetch" href="/assets/js/71.1f786e34.js"><link rel="prefetch" href="/assets/js/72.4bd65b39.js"><link rel="prefetch" href="/assets/js/73.414b29bd.js"><link rel="prefetch" href="/assets/js/74.b5ab4f13.js"><link rel="prefetch" href="/assets/js/75.f12fbb27.js"><link rel="prefetch" href="/assets/js/76.a140d22b.js"><link rel="prefetch" href="/assets/js/77.2595933c.js"><link rel="prefetch" href="/assets/js/78.46bb4eff.js"><link rel="prefetch" href="/assets/js/79.c549a0e3.js"><link rel="prefetch" href="/assets/js/8.3be12d8d.js"><link rel="prefetch" href="/assets/js/80.1b9cd731.js"><link rel="prefetch" href="/assets/js/81.6aa05825.js"><link rel="prefetch" href="/assets/js/9.60a01cba.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0cc2d3c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en Español</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Primeros Pasos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Conceptos De Arquitectura</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Bases De Datos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ORM Eloquent</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Pruebas</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/testing.html" class="sidebar-link">Pruebas: Primeros Pasos</a></li><li><a href="/http-tests.html" class="sidebar-link">Pruebas HTTP</a></li><li><a href="/console-tests.html" class="sidebar-link">Pruebas de consola</a></li><li><a href="/dusk.html" class="active sidebar-link">Laravel Dusk</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dusk.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/dusk.html#instalacion" class="sidebar-link">Instalación</a></li><li class="sidebar-sub-header"><a href="/dusk.html#primeros-pasos" class="sidebar-link">Primeros Pasos</a></li><li class="sidebar-sub-header"><a href="/dusk.html#interactuando-con-elementos" class="sidebar-link">Interactuando con Elementos</a></li><li class="sidebar-sub-header"><a href="/dusk.html#aserciones-disponibles" class="sidebar-link">Aserciones Disponibles</a></li><li class="sidebar-sub-header"><a href="/dusk.html#paginas" class="sidebar-link">Páginas</a></li><li class="sidebar-sub-header"><a href="/dusk.html#componentes" class="sidebar-link">Componentes</a></li><li class="sidebar-sub-header"><a href="/dusk.html#integracion-continua" class="sidebar-link">Integración Continua</a></li></ul></li><li><a href="/database-testing.html" class="sidebar-link">Pruebas de Base de Datos</a></li><li><a href="/mocking.html" class="sidebar-link">Mocking</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><div><h1 id="laravel-dusk"><a class="header-anchor" href="#laravel-dusk" aria-hidden="true">#</a> Laravel Dusk</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#installation">Instalación</a> <ul><li><a href="#managing-chromedriver-installations">Administrando Las Instalaciones De ChromeDriver</a></li> <li><a href="#using-other-browsers">Usando Otros Navegadores</a></li></ul></li> <li><a href="#getting-started">Primeros Pasos</a> <ul><li><a href="#generating-tests">Generando Pruebas</a></li> <li><a href="#running-tests">Ejecutar Pruebas</a></li> <li><a href="#environment-handling">Manejo de Entorno</a></li> <li><a href="#creating-browsers">Creando Navegadores</a></li> <li><a href="#browser-macros">Macros de navegador</a></li> <li><a href="#authentication">Autenticación</a></li> <li><a href="#migrations">Migraciones de Base de Datos</a></li></ul></li> <li><a href="#interacting-with-elements">Interactuando con Elementos</a> <ul><li><a href="#dusk-selectors">Selectores de Dusk</a></li> <li><a href="#clicking-links">Haciendo Clic En Enlaces</a></li> <li><a href="#text-values-and-attributes">Texto, Valores y Atributos</a></li> <li><a href="#using-forms">Usando Formularios</a></li> <li><a href="#attaching-files">Adjuntando Archivos</a></li> <li><a href="#using-the-keyboard">Usando El Teclado</a></li> <li><a href="#using-the-mouse">Usando El Ratón</a></li> <li><a href="#javascript-dialogs">Diálogos De JavaScript</a></li> <li><a href="#scoping-selectors">Alcance De Selectores</a></li> <li><a href="#waiting-for-elements">Esperando Por Elementos</a></li> <li><a href="#making-vue-assertions">Haciendo Aserciones de Vue</a></li></ul></li> <li><a href="#available-assertions">Aserciones Disponibles</a></li> <li><a href="#pages">Páginas</a> <ul><li><a href="#generating-pages">Generando Páginas</a></li> <li><a href="#configuring-pages">Configurando Páginas</a></li> <li><a href="#navigating-to-pages">Visitando Páginas</a></li> <li><a href="#shorthand-selectors">Selectores Abreviados</a></li> <li><a href="#page-methods">Métodos de Página</a></li></ul></li> <li><a href="#components">Componentes</a> <ul><li><a href="#generating-components">Generando Componentes</a></li> <li><a href="#using-components">Usando Componentes</a></li></ul></li> <li><a href="#continuous-integration">Integración Continua</a> <ul><li><a href="#running-tests-on-circle-ci">CircleCI</a></li> <li><a href="#running-tests-on-codeship">Codeship</a></li> <li><a href="#running-tests-on-heroku-ci">Heroku CI</a></li> <li><a href="#running-tests-on-travis-ci">Travis CI</a></li></ul></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion" aria-hidden="true">#</a> Introducción</h2> <p>Laravel Dusk proporciona una API de automatización y prueba para navegador expresiva y fácil de usar. De forma predeterminada, Dusk no requiere que instales JDK o Selenium en tu computador. En su lugar, Dusk usa una instalación de <a href="https://sites.google.com/a/chromium.org/chromedriver/home" target="_blank" rel="noopener noreferrer">ChromeDriver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> independiente. Sin embargo, siéntete libre de utilizar cualquier otro driver compatible con Selenium que desees.</p> <p><a name="installation"></a></p> <h2 id="instalacion"><a class="header-anchor" href="#instalacion" aria-hidden="true">#</a> Instalación</h2> <p>Para empezar, debes agregar la dependencia de Composer <code>laravel/dusk</code> a tu proyecto:</p> <div class="language-php extra-class"><pre v-pre class="language-php"><code>composer <span class="token keyword">require</span> <span class="token operator">--</span>dev laravel<span class="token operator">/</span>dusk
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Si estás registrando manualmente el proveedor de servicio de Dusk, <strong>nunca</strong> deberías registrarlo en tu entorno de producción, ya que hacerlo así podría conducir a que usuarios arbitrarios sean capaces de autenticarse en tu aplicación.</p></div></div> <p>Después de la instalación del paquete Dusk, ejecuta el comando Artisan <code>dusk:install</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>install
</code></pre></div><p>Un directorio <code>Browser</code> será creado dentro de tu directorio <code>tests</code> y contendrá una prueba de ejemplo. Seguido, establece la variable de entorno <code>APP_URL</code> en tu archivo <code>.env</code>. Este valor debería coincidir con la URL que uses para acceder a tu aplicación en un navegador.</p> <p>Para ejecutar tus pruebas, usa el comando de Artisan <code>dusk</code>. El comando <code>dusk</code> acepta cualquier argumento que también sea aceptado por el comando <code>phpunit</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk
</code></pre></div><p>Si tuviste fallos en las pruebas la última vez que se ejecutó el comando <code>dusk</code>, puedes ahorrar tiempo volviendo a ejecutar las pruebas fallidas usando el comando <code>dusk: fail</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>fails
</code></pre></div><p><a name="managing-chromedriver-installations"></a></p> <h3 id="administrando-las-instalaciones-de-chromedriver"><a href="#administrando-las-instalaciones-de-chromedriver" aria-hidden="true" class="header-anchor">#</a> Administrando Las Instalaciones De ChromeDriver</h3> <p>Si te gustaria instalar una versión diferente de ChromeDriver a la incluida con Laravel Dusk, puedes usar el comando <code>dusk:chrome-driver</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token shell-comment comment"># Install the latest version of ChromeDriver for your OS...</span>
php artisan dusk<span class="token punctuation">:</span>chrome<span class="token operator">-</span>driver

<span class="token shell-comment comment"># Install a given version of ChromeDriver for your OS...</span>
php artisan dusk<span class="token punctuation">:</span>chrome<span class="token operator">-</span>driver <span class="token number">74</span>

<span class="token shell-comment comment"># Install a given version of ChromeDriver for all supported OSs...</span>
php artisan dusk<span class="token punctuation">:</span>chrome<span class="token operator">-</span>driver <span class="token operator">--</span>all
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Dusk requiere que los binarios de <code>chromedriver</code> sean ejecutables. Si tienes problemas para ejecutar Dusk, asegurate de que los binarios sean ejecutables con el siguiente comando: <code>chmod -R 0755 vendor/laravel/dusk/bin/</code>.</p></div> <p><a name="using-other-browsers"></a></p> <h3 id="usando-otros-navegadores"><a href="#usando-otros-navegadores" aria-hidden="true" class="header-anchor">#</a> Usando Otros Navegadores</h3> <p>De forma predeterminada, Dusk usa Google Chrome y una instalación de <a href="https://sites.google.com/a/chromium.org/chromedriver/home" target="_blank" rel="noopener noreferrer">ChromeDriver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> independiente para ejecutar tus pruebas de navegador. Sin embargo, puedes iniciar tu propio servidor Selenium y ejecutar tus pruebas en cualquier navegador que desees.</p> <p>Para empezar, abre tu archivo <code>tests/DuskTestCase.php</code>, el cual es el caso de prueba de Dusk básico para tu aplicación. Dentro de este archivo, puedes remover la ejecución del método <code>startChromeDriver</code>. Esto evitará que Dusk inicie automáticamente ChromeDriver:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Prepare for Dusk test execution.
*
* @beforeClass
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// static::startChromeDriver();</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Luego de esto, puedes modificar el método <code>driver</code> para conectar a la URL y puerto de tu preferencia. Además, puedes modificar las &quot;capacidades deseadas&quot; que deberían ser pasadas al WebDriver:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Create the RemoteWebDriver instance.
*
* @return \Facebook\WebDriver\Remote\RemoteWebDriver
*/</span>
<span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> RemoteWebDriver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'http://localhost:4444/wd/hub'</span><span class="token punctuation">,</span> DesiredCapabilities<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">phantomjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="getting-started"></a></p> <h2 id="primeros-pasos"><a href="#primeros-pasos" aria-hidden="true" class="header-anchor">#</a> Primeros Pasos</h2> <p><a name="generating-tests"></a></p> <h3 id="generando-pruebas"><a href="#generando-pruebas" aria-hidden="true" class="header-anchor">#</a> Generando Pruebas</h3> <p>Para generar una prueba de Dusk, usa el comando de Artisan <code>dusk:make</code>. La prueba generada será colocada en el directorio <code>tests/Browser</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>make LoginTest
</code></pre></div><p><a name="running-tests"></a></p> <h3 id="ejecutando-pruebas"><a href="#ejecutando-pruebas" aria-hidden="true" class="header-anchor">#</a> Ejecutando Pruebas</h3> <p>Para ejecutar tus pruebas de navegador, usa el comando Artisan <code>dusk</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk
</code></pre></div><p>Si tuviste fallos en las pruebas la última vez que se ejecutó el comando <code>dusk</code>, puedes ahorrar tiempo volviendo a ejecutar las pruebas fallidas usando el comando <code>dusk: fail</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>fails
</code></pre></div><p>El comando <code>dusk</code> acepta cualquier argumento que sea aceptado normalmente por el administrador de pruebas de PHPUnit, permitiendo que ejecutes solamente las pruebas para un <a href="https://phpunit.de/manual/current/en/appendixes.annotations.html#appendixes.annotations.group" target="_blank" rel="noopener noreferrer">grupo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> dado, etc:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk <span class="token operator">--</span>group<span class="token operator">=</span>foo
</code></pre></div><h4 id="iniciando-manualmente-chromedriver"><a href="#iniciando-manualmente-chromedriver" aria-hidden="true" class="header-anchor">#</a> Iniciando Manualmente ChromeDriver</h4> <p>De forma predeterminada, Dusk intentará automáticamente iniciar ChromeDriver. Si esto no funciona para tu sistema en particular, puedes iniciar manualmente ChromeDriver antes de ejecutar el comando <code>dusk</code>. Si eliges iniciar manualmente ChromeDriver, debes comentar la siguiente línea de tu archivo <code>tests/DuskTestCase.php</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Prepare for Dusk test execution.
*
* @beforeClass
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// static::startChromeDriver();</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Además, si inicias ChromeDriver en un puerto diferente a 9515, deberías modificar el método <code>driver</code> de la misma clase:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Create the RemoteWebDriver instance.
*
* @return \Facebook\WebDriver\Remote\RemoteWebDriver
*/</span>
<span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> RemoteWebDriver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'http://localhost:9515'</span><span class="token punctuation">,</span> DesiredCapabilities<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">chrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="environment-handling"></a></p> <h3 id="manejo-de-entorno"><a href="#manejo-de-entorno" aria-hidden="true" class="header-anchor">#</a> Manejo de Entorno</h3> <p>Para forzar que Dusk use su propio archivo de entorno al momento de ejecutar las pruebas, crea un archivo <code>.env.dusk.{environment}</code> en el directorio raíz de tu proyecto. Por ejemplo, si estás iniciando el comando <code>dusk</code> desde tu entorno <code>local</code>, deberías crear un archivo <code>.env.dusk.local</code>.</p> <p>Al momento de ejecutar pruebas, Dusk respaldará tu archivo <code>.env</code> y renombrará tu entorno Dusk a <code>.env</code>. Una vez que las pruebas han sido completadas, tu archivo <code>.env</code> será restaurado.</p> <p><a name="creating-browsers"></a></p> <h3 id="creando-navegadores"><a href="#creando-navegadores" aria-hidden="true" class="header-anchor">#</a> Creando Navegadores</h3> <p>Para empezar, vamos a escribir una prueba que verifica que podemos entrar a nuestra aplicación. Después de generar una prueba, podemos modificarla para visitar la página de login, introducir algunas credenciales y presionar el botón &quot;Login&quot;. Para crear una instancia del navegador, ejecuta el método <code>browse</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>User</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>DuskTestCase</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Chrome</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span class="token punctuation">\</span>Testing<span class="token punctuation">\</span>DatabaseMigrations</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ExampleTest</span> <span class="token keyword">extends</span> <span class="token class-name">DuskTestCase</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">DatabaseMigrations</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * A basic browser test example.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testBasicExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor@laravel.com'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/login'</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">email</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'secret'</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Login'</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPathIs</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Como puedes ver en el ejemplo anterior, el método <code>browse</code> acepta una función callback. Una instancia de navegador será pasada automáticamente a esta función de retorno por Dusk y es el objeto principal utilizado para interactuar y hacer aserciones en la aplicación.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Esta prueba puede ser usada para probar la pantalla login generada por el comando Artisan <code>make:auth</code>.</p></div> <h4 id="creando-multiples-navegadores"><a href="#creando-multiples-navegadores" aria-hidden="true" class="header-anchor">#</a> Creando Múltiples Navegadores</h4> <p>Algunas veces puedes necesitar múltiples navegadores con el propósito de ejecutar apropiadamente una prueba. Por ejemplo, múltiples navegadores pueden ser necesitados para probar una pantalla de conversaciones que interactúa con websockets. Para crear múltiples navegadores, &quot;solicita&quot; más de un navegador en la firma del callback dado al método <code>browse</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$first</span><span class="token punctuation">,</span> <span class="token variable">$second</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$first</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">loginAs</span><span class="token punctuation">(</span>User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForText</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$second</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">loginAs</span><span class="token punctuation">(</span>User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForText</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Message'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'message'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Hey Taylor'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Send'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$first</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForText</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hey Taylor'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Jeffrey Way'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="redimensionando-las-ventanas-del-navegador"><a href="#redimensionando-las-ventanas-del-navegador" aria-hidden="true" class="header-anchor">#</a> Redimensionando las Ventanas del Navegador</h4> <p>Puedes usar el método <code>resize</code> para ajustar el tamaño de la ventana del navegador:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span> <span class="token number">1080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>El método <code>maximize</code> puede ser usado para maximizar la ventana del navegador:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">maximize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="browser-macros"></a></p> <h3 id="macros-de-navegador"><a href="#macros-de-navegador" aria-hidden="true" class="header-anchor">#</a> Macros de navegador</h3> <p>Si desea definir un método de navegador personalizado que puedas reutilizar en una variedad de tus pruebas, puedes usar el método <code>macro</code> en la clase<code>Browser</code>. Normalmente, deberías llamar a este método desde el método <code>boot</code> del <a href="/docs/%7B%7Bversion%7D%7D/providers">proveedor de servicios</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DuskServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Register the Dusk's browser macros.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Browser<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">macro</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scrollToElement'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$element</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">script</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;$('html, body').animate({ scrollTop: $('<span class="token interpolation"><span class="token variable">$element</span></span>').offset().top }, 0);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>La función <code>macro</code> acepta un nombre como primer argumento y un Closure como segundo. El Closure del macro se ejecutará cuando se llame al macro como un método en una implementación de <code>Browser</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/pay'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">scrollToElement</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'#credit-card-details'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Enter Credit Card Details'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="authentication"></a></p> <h3 id="autenticacion"><a href="#autenticacion" aria-hidden="true" class="header-anchor">#</a> Autenticación</h3> <p>Frecuentemente, estarás probando páginas que requieren autenticación. Puedes usar el método <code>loginAs</code> de Dusk con el propósito de evitar interactuar con la pantalla de login durante cada prueba. El método <code>loginAs</code> acepta un ID de usuario o una instancia de modelo de usuario:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$first</span><span class="token punctuation">,</span> <span class="token variable">$second</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$first</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">loginAs</span><span class="token punctuation">(</span>User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Después de usar el método <code>loginAs</code>, la sesión de usuario será mantenida para todas las pruebas dentro del archivo.</p></div> <p><a name="migrations"></a></p> <h3 id="migraciones-de-bases-de-datos"><a href="#migraciones-de-bases-de-datos" aria-hidden="true" class="header-anchor">#</a> Migraciones de Bases de Datos</h3> <p>Cuando tu prueba requiere migraciones, como el ejemplo de autenticación visto antes, nunca deberías usar el trait <code>RefreshDatabase</code>. El trait <code>RefreshDatabase</code> se apoya en transacciones de base de datos, las cuales no serán aplicables a traves de las solicitudes HTTP. En su lugar, usa el trait <code>DatabaseMigrations</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>User</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>DuskTestCase</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Chrome</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span class="token punctuation">\</span>Testing<span class="token punctuation">\</span>DatabaseMigrations</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ExampleTest</span> <span class="token keyword">extends</span> <span class="token class-name">DuskTestCase</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">DatabaseMigrations</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="interacting-with-elements"></a></p> <h2 id="interactuando-con-elementos"><a href="#interactuando-con-elementos" aria-hidden="true" class="header-anchor">#</a> Interactuando con Elementos</h2> <p><a name="dusk-selectors"></a></p> <h3 id="selectores-de-dusk"><a href="#selectores-de-dusk" aria-hidden="true" class="header-anchor">#</a> Selectores de Dusk</h3> <p>Elegir buenos selectores CSS para interactuar con elementos es una de las partes más difíciles de escribir las pruebas de Dusk. Con el tiempo, los cambios del diseño frontend pueden causar que los selectores CSS como los siguientes dañen tus pruebas:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// HTML...</span>

<span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// Test...</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.login-page .container div &gt; button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Los selectores de Dusk permiten que te enfoques en la escritura de pruebas efectivas en vez de recordar selectores CSS. Para definir un selector, agrega un atributo <code>dusk</code> a tu elemento HTML. Después, agrega un prefijo al selector con <code>@</code> para manipular el elemento conectado dentro de una prueba de Dusk:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// HTML...</span>

<span class="token operator">&lt;</span>button dusk<span class="token operator">=</span><span class="token double-quoted-string string">&quot;login-button&quot;</span><span class="token operator">&gt;</span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// Test...</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@login-button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="clicking-links"></a></p> <h3 id="haciendo-clic-en-enlaces"><a href="#haciendo-clic-en-enlaces" aria-hidden="true" class="header-anchor">#</a> Haciendo Clic En Enlaces</h3> <p>Para hacer clic sobre un enlace, puedes usar el método <code>clickLink</code> en la instancia del navegador. El método <code>clickLink</code> hará clic en el enlace que tiene el texto dado en la pantalla:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clickLink</span><span class="token punctuation">(</span><span class="token variable">$linkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Este método interactúa con jQuery. Si jQuery no está disponible en la página, Dusk lo inyectará automáticamente de modo que esté disponible por la duración de la prueba.</p></div> <p><a name="text-values-and-attributes"></a></p> <h3 id="texto-valores-y-atributos"><a href="#texto-valores-y-atributos" aria-hidden="true" class="header-anchor">#</a> Texto, Valores y Atributos</h3> <h4 id="obteniendo-y-estableciendo-valores"><a href="#obteniendo-y-estableciendo-valores" aria-hidden="true" class="header-anchor">#</a> Obteniendo y Estableciendo Valores</h4> <p>Dusk proporciona varios métodos para interactuar con el texto de pantalla, valor y atributos de elementos en la página actual. Por ejemplo, para obtener el &quot;valor&quot; de un elemento que coincida con un selector dado, usa el método <code>value</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Retrieve the value...</span>
<span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set the value...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'selector'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="obteniendo-texto"><a href="#obteniendo-texto" aria-hidden="true" class="header-anchor">#</a> Obteniendo Texto</h4> <p>El método <code>text</code> puede ser usado para obtener el texto de pantalla de un elemento que coincida con el selector dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$text</span> <span class="token operator">=</span> <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="obteniendo-atributos"><a href="#obteniendo-atributos" aria-hidden="true" class="header-anchor">#</a> Obteniendo Atributos</h4> <p>Finalmente, el método <code>attribute</code> puede ser usado para obtener un atributo de un elemento que coincida con el selector dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$attribute</span> <span class="token operator">=</span> <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'selector'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="using-forms"></a></p> <h3 id="usando-formularios"><a href="#usando-formularios" aria-hidden="true" class="header-anchor">#</a> Usando Formularios</h3> <h4 id="escribiendo-valores"><a href="#escribiendo-valores" aria-hidden="true" class="header-anchor">#</a> Escribiendo Valores</h4> <p>Dusk proporciona una variedad de métodos para interactuar con formularios y elementos de entrada. Primero, vamos a echar un vistazo a un ejemplo de escribir texto dentro de un campo de entrada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'taylor@laravel.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Nota que, aunque el método acepta uno si es necesario, no estamos obligados a pasar un selector CSS dentro del método <code>type</code>. Si un selector CSS no es proporcionado, Dusk buscará un campo de entrada con el atributo <code>name</code> dado. Finalmente, Dusk intentará encontrar un <code>textarea</code> con el atributo <code>name</code> dado.</p> <p>Para agregar texto a un campo sin limpiar su contenido, puedes usar el método <code>append</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tags'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tags'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">', bar, baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Puedes limpiar el valor de un campo usando el método <code>clear</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="listas-desplegables"><a href="#listas-desplegables" aria-hidden="true" class="header-anchor">#</a> Listas Desplegables</h4> <p>Para seleccionar un valor en un cuadro de selección de lista desplegable, puedes usar el método <code>select</code>. Al momento de pasar un valor al método <code>select</code>, deberías pasar el valor de opción a resaltar en lugar del texto mostrado en pantalla:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'size'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Large'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Puedes seleccionar una opción aleatoria al omitir el segundo parámetro:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'size'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="casillas-de-verificacion"><a href="#casillas-de-verificacion" aria-hidden="true" class="header-anchor">#</a> Casillas de Verificación</h4> <p>Para &quot;marcar&quot; un campo de casilla de verificación, puedes usar el método <code>check</code>. Al igual que muchos otros métodos relacionados con entradas, un selector CSS completo no es obligatorio. Si un selector que coincida exactamente no puede ser encontrado, Dusk buscará una casilla de verificación con un atributo <code>name</code> coincidente.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'terms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">uncheck</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'terms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="botones-de-radio"><a href="#botones-de-radio" aria-hidden="true" class="header-anchor">#</a> Botones de Radio</h4> <p>Para &quot;seleccionar&quot; una opción de botón de radio, puedes usar el método <code>radio</code>. Al igual que muchos otros métodos relacionados con campos, un selector CSS completo no es obligatorio. Si un selector que coincida exactamente no puede ser encontrado, Dusk buscará un radio con atributos <code>name</code> y <code>value</code> coincidentes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">radio</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'version'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'php7'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="attaching-files"></a></p> <h3 id="adjuntando-archivos"><a href="#adjuntando-archivos" aria-hidden="true" class="header-anchor">#</a> Adjuntando Archivos</h3> <p>El método <code>attach</code> puede ser usado para adjuntar un archivo a un elemento <code>file</code>. Al igual que muchos otros métodos relacionados con campos, un selector CSS completo no es obligatorio. Si un selector que coincida exactamente no puede ser encontrado, Dusk buscará un campo de archivo con atributo <code>name</code> coincidente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'photo'</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/photos/me.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>La función <code>attach</code> requiere que la extensión de PHP <code>Zip</code> esté instalada y habilitada en tu servidor.</p></div> <p><a name="using-the-keyboard"></a></p> <h3 id="usando-el-teclado"><a href="#usando-el-teclado" aria-hidden="true" class="header-anchor">#</a> Usando el Teclado</h3> <p>El método <code>keys</code> permite que proporciones secuencias de entrada más complejas para un elemento dado que lo permitido normalmente por el método <code>type</code>. Por ejemplo, puedes mantener presionada las teclas modificadoras al introducir valores. En este ejemplo, la tecla <code>shift</code> será mantenida presionada mientras la palabra <code>taylor</code> es introducida dentro del elemento que coincida con el selector dado. Después de que la palabra <code>taylor</code> sea tipeada, la palabra <code>otwell</code> será tipeada sin alguna tecla modificadora:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'selector'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'{shift}'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'otwell'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Incluso puedes enviar una &quot;tecla de función&quot; al selector CSS principal que contiene tu aplicación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.app'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'{command}'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'j'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Todas las teclas modificadoras se envuelven entre corchetes <code>{}</code> y coinciden con las constantes definidas en la clase <code>Facebook\WebDriver\WebDriverKeys</code>, la cual puede ser <a href="https://github.com/facebook/php-webdriver/blob/community/lib/WebDriverKeys.php" target="_blank" rel="noopener noreferrer">encontrada en GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <p><a name="using-the-mouse"></a></p> <h3 id="usando-el-raton"><a href="#usando-el-raton" aria-hidden="true" class="header-anchor">#</a> Usando el Ratón</h3> <h4 id="haciendo-clic-sobre-elementos"><a href="#haciendo-clic-sobre-elementos" aria-hidden="true" class="header-anchor">#</a> Haciendo Clic Sobre Elementos</h4> <p>El método <code>click</code> puede ser usado para &quot;clickear&quot; sobre un elemento que coincida con el selector dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="mouseover"><a href="#mouseover" aria-hidden="true" class="header-anchor">#</a> Mouseover</h4> <p>El método <code>mouseover</code> puede ser usado cuando necesitas mover el ratón sobre un elemento que coincida con el selector dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mouseover</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="arrastrar-y-soltar"><a href="#arrastrar-y-soltar" aria-hidden="true" class="header-anchor">#</a> Arrastrar y Soltar</h4> <p>El método <code>drag</code> puede ser usado para arrastrar un elemento que coincida con el selector dado hasta otro elemento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">drag</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.from-selector'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'.to-selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>O, puedes arrastrar un elemento en una única dirección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dragLeft</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dragRight</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dragUp</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dragDown</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="javascript-dialogs"></a></p> <h3 id="dialogos-de-javascript"><a href="#dialogos-de-javascript" aria-hidden="true" class="header-anchor">#</a> Diálogos de JavaScript</h3> <p>Dusk provee de varios métodos para interactuar con Diálogos de JavaScript:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait for a dialog to appear:</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForDialog</span><span class="token punctuation">(</span><span class="token variable">$seconds</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Assert that a dialog has been displayed and that its message matches the given value:</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDialogOpened</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Type the given value in an open JavaScript prompt dialog:</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">typeInDialog</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para cerrar un Diálogo de JavaScript abierto, haga clic en el botón Aceptar o OK:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">acceptDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para cerrar un Diálogo de JavaScript abierto, haga clic en el botón Cancelar (solo para un diálogo de confirmación):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dismissDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="scoping-selectors"></a></p> <h3 id="alcance-de-selectores"><a href="#alcance-de-selectores" aria-hidden="true" class="header-anchor">#</a> Alcance De Selectores</h3> <p>Algunas veces puedes querer ejecutar varias operaciones dentro del alcance de un selector dado. Por ejemplo, puedes querer comprobar que algunos textos existen unicamente dentro de una tabla y después presionar un botón dentro de la tabla. Puedes usar el método <code>with</code> para completar esta tarea. Todas las operaciones ejecutadas dentro de la función de retorno dada al método <code>with</code> serán exploradas en el selector original:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.table'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clickLink</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Delete'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="waiting-for-elements"></a></p> <h3 id="esperando-por-elementos"><a href="#esperando-por-elementos" aria-hidden="true" class="header-anchor">#</a> Esperando por Elementos</h3> <p>Al momento de probar aplicaciones que usan JavaScript de forma extensiva, frecuentemente se vuelve necesario &quot;esperar&quot; por ciertos elementos o datos estén disponibles antes de proceder con una prueba. Dusk hace esto fácilmente. Usando una variedad de métodos, puedes esperar que los elementos estén visibles en la página e incluso esperar hasta que una expresión de JavaScript dada se evalúe como <code>true</code>.</p> <h4 id="esperando"><a href="#esperando" aria-hidden="true" class="header-anchor">#</a> Esperando</h4> <p>Si necesitas pausar la prueba por un número de milisegundos dado, usa el método <code>pause</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-selectores"><a href="#esperando-por-selectores" aria-hidden="true" class="header-anchor">#</a> Esperando por Selectores</h4> <p>El método <code>waitFor</code> puede ser usado para pausar la ejecución de la prueba hasta que el elemento que coincida con el selector CSS dado sea mostrado en la página. De forma predeterminada, esto pausará la prueba por un máximo de cinco segundos antes de arrojar una excepción. Si es necesario, puedes pasar un umbral de tiempo de expiración personalizado como segundo argumento del método:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait a maximum of five seconds for the selector...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wait a maximum of one second for the selector...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>También puede esperar hasta que el selector dado no se encuentre en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntilMissing</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntilMissing</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.selector'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="estableciendo-el-alcance-de-selectores-cuando-esten-disponibles"><a href="#estableciendo-el-alcance-de-selectores-cuando-esten-disponibles" aria-hidden="true" class="header-anchor">#</a> Estableciendo el Alcance de Selectores Cuando Estén Disponibles</h4> <p>Ocasionalmente, puedes querer esperar por un selector dado y después interactuar con el elemento que coincida con el selector. Por ejemplo, puedes querer esperar hasta que una ventana modal esté disponible y después presionar el botón &quot;OK&quot; dentro de esa ventana. El método <code>whenAvailable</code> puede ser usado en este caso. Todas las operaciones de elementos ejecutadas dentro de la función de retorno dada serán ejecutadas dentro del selector original:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenAvailable</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.modal'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$modal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$modal</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'OK'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-texto"><a href="#esperando-por-texto" aria-hidden="true" class="header-anchor">#</a> Esperando por Texto</h4> <p>El método <code>waitForText</code> puede ser usado para esperar hasta que el texto dado sea mostrado en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait a maximum of five seconds for the text...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForText</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wait a maximum of one second for the text...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForText</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-enlaces"><a href="#esperando-por-enlaces" aria-hidden="true" class="header-anchor">#</a> Esperando por Enlaces</h4> <p>El método <code>waitForLink</code> puede ser usado para esperar hasta que un enlace dado sea mostrada en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait a maximum of five seconds for the link...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForLink</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Create'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wait a maximum of one second for the link...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForLink</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Create'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-la-localizacion-de-la-pagina"><a href="#esperando-por-la-localizacion-de-la-pagina" aria-hidden="true" class="header-anchor">#</a> Esperando por la Localización de la Página</h4> <p>Al momento de hacer una comprobación de ruta tal como <code>$browser-&gt;assertPathIs('/home')</code>, la comprobación puede fallar si <code>window.location.pathname</code> está siendo actualizada asincrónicamente. Puedes usar el método <code>waitForLocation</code> para esperar por la localización que tenga un valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForLocation</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/secret'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>También puede esperar la localización de una ruta con nombre:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForRoute</span><span class="token punctuation">(</span><span class="token variable">$routeName</span><span class="token punctuation">,</span> <span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-recargas-de-pagina"><a href="#esperando-por-recargas-de-pagina" aria-hidden="true" class="header-anchor">#</a> Esperando por Recargas de Página</h4> <p>Si necesita hacer aserciones después de que se ha recargado una página, usa el método <code>waitForReload</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.some-action'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitForReload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'something'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-expresiones-de-javascript"><a href="#esperando-por-expresiones-de-javascript" aria-hidden="true" class="header-anchor">#</a> Esperando por Expresiones de JavaScript</h4> <p>Algunas veces puedes querer pausar la ejecución de una prueba hasta que una expresión de JavaScript dada se evalúe a <code>true</code>. Puedes completar fácilmente esto usando el método <code>waitUntil</code>. Al momento de pasar una expresión a este método, no necesitas incluir al final la palabra clave <code>return</code> o un punto y coma <code>;</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait a maximum of five seconds for the expression to be true...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntil</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'App.dataLoaded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntil</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'App.data.servers.length &gt; 0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wait a maximum of one second for the expression to be true...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntil</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'App.data.servers.length &gt; 0'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-expresiones-de-vue"><a href="#esperando-por-expresiones-de-vue" aria-hidden="true" class="header-anchor">#</a> Esperando por Expresiones de Vue</h4> <p>Los siguientes métodos puedes ser usados para esperar hasta que un atributo de componente de Vue dado tenga un determinado valor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Wait until the component attribute contains the given value...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntilVue</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user.name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'@user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wait until the component attribute doesn't contain the given value...</span>
<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUntilVueIsNot</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user.name'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'@user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="esperando-por-una-funcion-de-retorno"><a href="#esperando-por-una-funcion-de-retorno" aria-hidden="true" class="header-anchor">#</a> Esperando por una Función de Retorno</h4> <p>Muchos de los métodos de &quot;espera&quot; en Dusk confían en el método <code>waitUsing</code> subyacente. Puedes usar este método directamente para esperar por una función de retorno dada que devuelva <code>true</code>. El método <code>waitUsing</code> acepta el máximo número de segundos para esperar la Closure, el intervalo en el cual la Closure debería ser evaluada y un mensaje opcional de falla:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">waitUsing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$something</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$something</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;Something wasn't ready in time.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="making-vue-assertions"></a></p> <h3 id="haciendo-aserciones-de-vue"><a href="#haciendo-aserciones-de-vue" aria-hidden="true" class="header-anchor">#</a> Haciendo Aserciones de Vue</h3> <p>Inclusive Dusk permite que hagas comprobaciones en el estado de componente de datos de <a href="https://vuejs.org" target="_blank" rel="noopener noreferrer">Vue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Por ejemplo, imagina que tu aplicación contiene el siguiente componente de Vue:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// HTML...</span>

<span class="token operator">&lt;</span>profile dusk<span class="token operator">=</span><span class="token double-quoted-string string">&quot;profile-component&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>profile<span class="token operator">&gt;</span>

<span class="token comment">// Component Definition...</span>

Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'profile'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    template<span class="token punctuation">:</span> <span class="token single-quoted-string string">'&lt;div&gt;{{ user.name }}&lt;/div&gt;'</span><span class="token punctuation">,</span>

    data<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            user<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                name<span class="token punctuation">:</span> <span class="token single-quoted-string string">'Taylor'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Puedes comprobar el estado del componente de Vue de esta manera:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* A basic Vue test example.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testVue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Browser <span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVue</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user.name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'@profile-component'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="available-assertions"></a></p> <h2 id="aserciones-disponibles"><a href="#aserciones-disponibles" aria-hidden="true" class="header-anchor">#</a> Aserciones Disponibles</h2> <p>Dusk proporciona una variedad de aserciones que puedes hacer en tu apliación. Todas las aserciones disponibles están documentadas en la tabla de abajo:</p> <div markdown="1" class="collection-method-list"><p><a href="#assert-title">assertTitle</a> <a href="#assert-title-contains">assertTitleContains</a> <a href="#assert-url-is">assertUrlIs</a> <a href="#assert-scheme-is">assertSchemeIs</a> <a href="#assert-scheme-is-not">assertSchemeIsNot</a> <a href="#assert-host-is">assertHostIs</a> <a href="#assert-host-is-not">assertHostIsNot</a> <a href="#assert-port-is">assertPortIs</a> <a href="#assert-port-is-not">assertPortIsNot</a> <a href="#assert-path-begins-with">assertPathBeginsWith</a> <a href="#assert-path-is">assertPathIs</a> <a href="#assert-path-is-not">assertPathIsNot</a> <a href="#assert-route-is">assertRouteIs</a> <a href="#assert-query-string-has">assertQueryStringHas</a> <a href="#assert-query-string-missing">assertQueryStringMissing</a> <a href="#assert-fragment-is">assertFragmentIs</a> <a href="#assert-fragment-begins-with">assertFragmentBeginsWith</a> <a href="#assert-fragment-is-not">assertFragmentIsNot</a> <a href="#assert-has-cookie">assertHasCookie</a> <a href="#assert-cookie-missing">assertCookieMissing</a> <a href="#assert-cookie-value">assertCookieValue</a> <a href="#assert-plain-cookie-value">assertPlainCookieValue</a> <a href="#assert-see">assertSee</a> <a href="#assert-dont-see">assertDontSee</a> <a href="#assert-see-in">assertSeeIn</a> <a href="#assert-dont-see-in">assertDontSeeIn</a> <a href="#assert-source-has">assertSourceHas</a> <a href="#assert-source-missing">assertSourceMissing</a> <a href="#assert-see-link">assertSeeLink</a> <a href="#assert-dont-see-link">assertDontSeeLink</a> <a href="#assert-input-value">assertInputValue</a> <a href="#assert-input-value-is-not">assertInputValueIsNot</a> <a href="#assert-checked">assertChecked</a> <a href="#assert-not-checked">assertNotChecked</a> <a href="#assert-radio-selected">assertRadioSelected</a> <a href="#assert-radio-not-selected">assertRadioNotSelected</a> <a href="#assert-selected">assertSelected</a> <a href="#assert-not-selected">assertNotSelected</a> <a href="#assert-select-has-options">assertSelectHasOptions</a> <a href="#assert-select-missing-options">assertSelectMissingOptions</a> <a href="#assert-select-has-option">assertSelectHasOption</a> <a href="#assert-value">assertValue</a> <a href="#assert-visible">assertVisible</a> <a href="#assert-present">assertPresent</a> <a href="#assert-missing">assertMissing</a> <a href="#assert-dialog-opened">assertDialogOpened</a> <a href="#assert-enabled">assertEnabled</a> <a href="#assert-disabled">assertDisabled</a> <a href="#assert-focused">assertFocused</a> <a href="#assert-not-focused">assertNotFocused</a> <a href="#assert-vue">assertVue</a> <a href="#assert-vue-is-not">assertVueIsNot</a> <a href="#assert-vue-contains">assertVueContains</a> <a href="#assert-vue-does-not-contain">assertVueDoesNotContain</a></p></div> <p><a name="assert-title"></a></p> <h4 id="asserttitle"><a href="#asserttitle" aria-hidden="true" class="header-anchor">#</a> assertTitle</h4> <p>Comprueba que el título de la página coincida con el texto dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertTitle</span><span class="token punctuation">(</span><span class="token variable">$title</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-title-contains"></a></p> <h4 id="asserttitlecontains"><a href="#asserttitlecontains" aria-hidden="true" class="header-anchor">#</a> assertTitleContains</h4> <p>Comprueba que el título de página contenga el texto dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertTitleContains</span><span class="token punctuation">(</span><span class="token variable">$title</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-url-is"></a></p> <h4 id="asserturlis"><a href="#asserturlis" aria-hidden="true" class="header-anchor">#</a> assertUrlIs</h4> <p>Comprueba que la URL actual (sin la cadena de consulta) coincida con la cadena dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertUrlIs</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-scheme-is"></a></p> <h4 id="assertschemeis"><a href="#assertschemeis" aria-hidden="true" class="header-anchor">#</a> assertSchemeIs</h4> <p>Comprueba que el esquema de la URL actual coincide con el esquema dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSchemeIs</span><span class="token punctuation">(</span><span class="token variable">$scheme</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-scheme-is-not"></a></p> <h4 id="assertschemeisnot"><a href="#assertschemeisnot" aria-hidden="true" class="header-anchor">#</a> assertSchemeIsNot</h4> <p>Comprueba que el esquema de la URL actual no coincide con el esquema dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSchemeIsNot</span><span class="token punctuation">(</span><span class="token variable">$scheme</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-host-is"></a></p> <h4 id="asserthostis"><a href="#asserthostis" aria-hidden="true" class="header-anchor">#</a> assertHostIs</h4> <p>Comprueba que el Host de la URL actual coincide con el Host dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertHostIs</span><span class="token punctuation">(</span><span class="token variable">$host</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-host-is-not"></a></p> <h4 id="asserthostisnot"><a href="#asserthostisnot" aria-hidden="true" class="header-anchor">#</a> assertHostIsNot</h4> <p>Comprueba que el Host de la URL actual no coincide con el Host dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertHostIsNot</span><span class="token punctuation">(</span><span class="token variable">$host</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-port-is"></a></p> <h4 id="assertportis"><a href="#assertportis" aria-hidden="true" class="header-anchor">#</a> assertPortIs</h4> <p>Comprueba que el puerto de la URL actual coincide con el puerto dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPortIs</span><span class="token punctuation">(</span><span class="token variable">$port</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-port-is-not"></a></p> <h4 id="assertportisnot"><a href="#assertportisnot" aria-hidden="true" class="header-anchor">#</a> assertPortIsNot</h4> <p>Comprueba que el puerto de la URL actual no coincide con el puerto dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPortIsNot</span><span class="token punctuation">(</span><span class="token variable">$port</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-path-begins-with"></a></p> <h4 id="assertpathbeginswith"><a href="#assertpathbeginswith" aria-hidden="true" class="header-anchor">#</a> assertPathBeginsWith</h4> <p>Comprueba que la ruta de la URL actual comience con la ruta dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPathBeginsWith</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-path-is"></a></p> <h4 id="assertpathis"><a href="#assertpathis" aria-hidden="true" class="header-anchor">#</a> assertPathIs</h4> <p>Comprueba que la ruta actual coincida con la ruta dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPathIs</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-path-is-not"></a></p> <h4 id="assertpathisnot"><a href="#assertpathisnot" aria-hidden="true" class="header-anchor">#</a> assertPathIsNot</h4> <p>Comprueba que la ruta actual no coincida con la ruta dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPathIsNot</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-route-is"></a></p> <h4 id="assertrouteis"><a href="#assertrouteis" aria-hidden="true" class="header-anchor">#</a> assertRouteIs</h4> <p>Comprueba que la URL actual coincida con la URL de ruta nombrada dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertRouteIs</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-query-string-has"></a></p> <h4 id="assertquerystringhas"><a href="#assertquerystringhas" aria-hidden="true" class="header-anchor">#</a> assertQueryStringHas</h4> <p>Comprueba que el parámetro de cadena para una consulta dada está presente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertQueryStringHas</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Comprueba que el parámetro de cadena para una consulta dada está presente y tiene un valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertQueryStringHas</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-query-string-missing"></a></p> <h4 id="assertquerystringmissing"><a href="#assertquerystringmissing" aria-hidden="true" class="header-anchor">#</a> assertQueryStringMissing</h4> <p>Comprueba que el parámetro de cadena para una consulta dada está ausente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertQueryStringMissing</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-fragment-is"></a></p> <h4 id="assertfragmentis"><a href="#assertfragmentis" aria-hidden="true" class="header-anchor">#</a> assertFragmentIs</h4> <p>Comprueba que el fragmento actual coincide con el fragmento dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFragmentIs</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'anchor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-fragment-begins-with"></a></p> <h4 id="assertfragmentbeginswith"><a href="#assertfragmentbeginswith" aria-hidden="true" class="header-anchor">#</a> assertFragmentBeginsWith</h4> <p>Comprueba que el fragmento actual comienza con el fragmento dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFragmentBeginsWith</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'anchor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-fragment-is-not"></a></p> <h4 id="assertfragmentisnot"><a href="#assertfragmentisnot" aria-hidden="true" class="header-anchor">#</a> assertFragmentIsNot</h4> <p>AComprueba que el fragmento actual no coincide con el fragmento dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFragmentIsNot</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'anchor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-has-cookie"></a></p> <h4 id="asserthascookie"><a href="#asserthascookie" aria-hidden="true" class="header-anchor">#</a> assertHasCookie</h4> <p>Comprueba que el cookie dado está presente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertHasCookie</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-cookie-missing"></a></p> <h4 id="assertcookiemissing"><a href="#assertcookiemissing" aria-hidden="true" class="header-anchor">#</a> assertCookieMissing</h4> <p>Comprueba que el cookie dado no está presente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertCookieMissing</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-cookie-value"></a></p> <h4 id="assertcookievalue"><a href="#assertcookievalue" aria-hidden="true" class="header-anchor">#</a> assertCookieValue</h4> <p>Comprueba que un cookie tenga un valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertCookieValue</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-plain-cookie-value"></a></p> <h4 id="assertplaincookievalue"><a href="#assertplaincookievalue" aria-hidden="true" class="header-anchor">#</a> assertPlainCookieValue</h4> <p>Comprueba que un cookie desencriptado tenga un valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPlainCookieValue</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-see"></a></p> <h4 id="assertsee"><a href="#assertsee" aria-hidden="true" class="header-anchor">#</a> assertSee</h4> <p>Comprueba que el texto dado está presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-dont-see"></a></p> <h4 id="assertdontsee"><a href="#assertdontsee" aria-hidden="true" class="header-anchor">#</a> assertDontSee</h4> <p>Comprueba que el texto dado no está presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDontSee</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-see-in"></a></p> <h4 id="assertseein"><a href="#assertseein" aria-hidden="true" class="header-anchor">#</a> assertSeeIn</h4> <p>Comprueba que el texto dado está presente dentro del selector:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSeeIn</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">,</span> <span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-dont-see-in"></a></p> <h4 id="assertdontseein"><a href="#assertdontseein" aria-hidden="true" class="header-anchor">#</a> assertDontSeeIn</h4> <p>Comprueba que el texto dado no está presente dentro del selector:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDontSeeIn</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">,</span> <span class="token variable">$text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-source-has"></a></p> <h4 id="assertsourcehas"><a href="#assertsourcehas" aria-hidden="true" class="header-anchor">#</a> assertSourceHas</h4> <p>Comprueba que el código fuente dado está presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSourceHas</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-source-missing"></a></p> <h4 id="assertsourcemissing"><a href="#assertsourcemissing" aria-hidden="true" class="header-anchor">#</a> assertSourceMissing</h4> <p>Comprueba que el código fuente dado no está presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSourceMissing</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-see-link"></a></p> <h4 id="assertseelink"><a href="#assertseelink" aria-hidden="true" class="header-anchor">#</a> assertSeeLink</h4> <p>Comprueba que el enlace dado está presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSeeLink</span><span class="token punctuation">(</span><span class="token variable">$linkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-dont-see-link"></a></p> <h4 id="assertdontseelink"><a href="#assertdontseelink" aria-hidden="true" class="header-anchor">#</a> assertDontSeeLink</h4> <p>Comprueba que el enlace dado está no presente en la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDontSeeLink</span><span class="token punctuation">(</span><span class="token variable">$linkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-input-value"></a></p> <h4 id="assertinputvalue"><a href="#assertinputvalue" aria-hidden="true" class="header-anchor">#</a> assertInputValue</h4> <p>Comprueba que el campo de entrada dado tiene el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInputValue</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-input-value-is-not"></a></p> <h4 id="assertinputvalueisnot"><a href="#assertinputvalueisnot" aria-hidden="true" class="header-anchor">#</a> assertInputValueIsNot</h4> <p>Comprueba que el campo de entrada dado no tiene el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInputValueIsNot</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-checked"></a></p> <h4 id="assertchecked"><a href="#assertchecked" aria-hidden="true" class="header-anchor">#</a> assertChecked</h4> <p>Comprueba que la casilla de verificación está marcada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertChecked</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-not-checked"></a></p> <h4 id="assertnotchecked"><a href="#assertnotchecked" aria-hidden="true" class="header-anchor">#</a> assertNotChecked</h4> <p>Comprueba que la casilla de verificación no está marcada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNotChecked</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-radio-selected"></a></p> <h4 id="assertradioselected"><a href="#assertradioselected" aria-hidden="true" class="header-anchor">#</a> assertRadioSelected</h4> <p>Comprueba que el campo de radio está seleccionado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertRadioSelected</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-radio-not-selected"></a></p> <h4 id="assertradionotselected"><a href="#assertradionotselected" aria-hidden="true" class="header-anchor">#</a> assertRadioNotSelected</h4> <p>Comprueba que el campo de radio no está seleccionado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertRadioNotSelected</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-selected"></a></p> <h4 id="assertselected"><a href="#assertselected" aria-hidden="true" class="header-anchor">#</a> assertSelected</h4> <p>Comprueba que la lista desplegable tiene seleccionado el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSelected</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-not-selected"></a></p> <h4 id="assertnotselected"><a href="#assertnotselected" aria-hidden="true" class="header-anchor">#</a> assertNotSelected</h4> <p>Comprueba que la lista desplegable no tiene seleccionado el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNotSelected</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-select-has-options"></a></p> <h4 id="assertselecthasoptions"><a href="#assertselecthasoptions" aria-hidden="true" class="header-anchor">#</a> assertSelectHasOptions</h4> <p>Comprueba que el arreglo dado de valores están disponibles para ser seleccionados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSelectHasOptions</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$values</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-select-missing-options"></a></p> <h4 id="assertselectmissingoptions"><a href="#assertselectmissingoptions" aria-hidden="true" class="header-anchor">#</a> assertSelectMissingOptions</h4> <p>Comprueba que el arreglo dado de valores no están disponibles para ser seleccionados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSelectMissingOptions</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$values</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-select-has-option"></a></p> <h4 id="assertselecthasoption"><a href="#assertselecthasoption" aria-hidden="true" class="header-anchor">#</a> assertSelectHasOption</h4> <p>Comprueba que el valor dado está disponible para ser seleccionado en el campo dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSelectHasOption</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-value"></a></p> <h4 id="assertvalue"><a href="#assertvalue" aria-hidden="true" class="header-anchor">#</a> assertValue</h4> <p>Comprueba que el elemento que coincida con el selector dado tenga el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertValue</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-visible"></a></p> <h4 id="assertvisible"><a href="#assertvisible" aria-hidden="true" class="header-anchor">#</a> assertVisible</h4> <p>Comprueba que el elemento que coincida con el selector dado sea visible:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVisible</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-present"></a></p> <h4 id="assertpresent"><a href="#assertpresent" aria-hidden="true" class="header-anchor">#</a> assertPresent</h4> <p>Comprueba que el elemento que coincida con el selector dado está presente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPresent</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-missing"></a></p> <h4 id="assertmissing"><a href="#assertmissing" aria-hidden="true" class="header-anchor">#</a> assertMissing</h4> <p>Comprueba que el elemento que coincida con el selector dado no sea visible:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertMissing</span><span class="token punctuation">(</span><span class="token variable">$selector</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-dialog-opened"></a></p> <h4 id="assertdialogopened"><a href="#assertdialogopened" aria-hidden="true" class="header-anchor">#</a> assertDialogOpened</h4> <p>Comprueba que un diálogo JavaScript con un mensaje dado ha sido abierto:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDialogOpened</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-enabled"></a></p> <h4 id="assertenabled"><a href="#assertenabled" aria-hidden="true" class="header-anchor">#</a> assertEnabled</h4> <p>Comprueba que el campo dado está activado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertEnabled</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-disabled"></a></p> <h4 id="assertdisabled"><a href="#assertdisabled" aria-hidden="true" class="header-anchor">#</a> assertDisabled</h4> <p>Comprueba que el campo dado está desactivado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertDisabled</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-focused"></a></p> <h4 id="assertfocused"><a href="#assertfocused" aria-hidden="true" class="header-anchor">#</a> assertFocused</h4> <p>Comprueba que el campo dado está enfocado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFocused</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-not-focused"></a></p> <h4 id="assertnotfocused"><a href="#assertnotfocused" aria-hidden="true" class="header-anchor">#</a> assertNotFocused</h4> <p>Comprueba que el campo dado no está enfocado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNotFocused</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-vue"></a></p> <h4 id="assertvue"><a href="#assertvue" aria-hidden="true" class="header-anchor">#</a> assertVue</h4> <p>Comprueba que una propiedad de datos de un componente de Vue dado coincida con el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVue</span><span class="token punctuation">(</span><span class="token variable">$property</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$componentSelector</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-vue-is-not"></a></p> <h4 id="assertvueisnot"><a href="#assertvueisnot" aria-hidden="true" class="header-anchor">#</a> assertVueIsNot</h4> <p>Comprueba que una propiedad de datos de un componente de Vue dado no coincida con el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVueIsNot</span><span class="token punctuation">(</span><span class="token variable">$property</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$componentSelector</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-vue-contains"></a></p> <h4 id="assertvuecontains"><a href="#assertvuecontains" aria-hidden="true" class="header-anchor">#</a> assertVueContains</h4> <p>Comprueba que una propiedad de datos de un componente de Vue dado es un arreglo y contiene el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVueContains</span><span class="token punctuation">(</span><span class="token variable">$property</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$componentSelector</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="assert-vue-does-not-contain"></a></p> <h4 id="assertvuedoesnotcontain"><a href="#assertvuedoesnotcontain" aria-hidden="true" class="header-anchor">#</a> assertVueDoesNotContain</h4> <p>Comprueba que una propiedad de datos de un componente de Vue dado es un arreglo y no contiene el valor dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVueDoesNotContain</span><span class="token punctuation">(</span><span class="token variable">$property</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$componentSelector</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="pages"></a></p> <h2 id="paginas"><a href="#paginas" aria-hidden="true" class="header-anchor">#</a> Páginas</h2> <p>Alguna veces, las pruebas requieren que varias acciones complicadas sean ejecutadas en secuencia. Esto puede hacer tus pruebas más difíciles de leer y entender. Las páginas permiten que definas acciones expresivas que entonces pueden ser ejecutadas en una página dada usando un solo método. Las páginas también permiten que definas abreviaturas para selectores comunes para tu aplicación o una página única.</p> <p><a name="generating-pages"></a></p> <h3 id="generando-paginas"><a href="#generando-paginas" aria-hidden="true" class="header-anchor">#</a> Generando Páginas</h3> <p>Para generar un objeto de página, usa el comando Artisan <code>dusk:page</code>. Todos los objetos de página serán colocados en el directorio <code>tests/Browser/Pages</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>page Login
</code></pre></div><p><a name="configuring-pages"></a></p> <h3 id="configurando-paginas"><a href="#configurando-paginas" aria-hidden="true" class="header-anchor">#</a> Configurando Páginas</h3> <p>De forma predeterminada, las páginas tienen tres métodos: <code>url</code>, <code>assert</code>, y <code>elements</code>. Discutiremos los métodos <code>url</code> y <code>assert</code> ahora. El método <code>elements</code> será <a href="#shorthand-selectors">discutido con más detalle debajo</a>.</p> <h4 id="el-metodo-url"><a href="#el-metodo-url" aria-hidden="true" class="header-anchor">#</a> El método <code>url</code></h4> <p>El método <code>url</code> debería devolver la ruta de la URL que representa la página. Dusk usará esta URL al momento de navegar a la página en el navegador:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Get the URL for the page.
*
* @return string
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'/login'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="el-metodo-assert"><a href="#el-metodo-assert" aria-hidden="true" class="header-anchor">#</a> El método <code>assert</code></h4> <p>El método <code>assert</code> puede hacer algunas aserciones necesarias para verificar que el navegador en realidad está en la página dada. Completar este método no es necesario; sin embargo, eres libre de hacer estas aserciones si lo deseas. Estas aserciones serán ejecutadas automáticamente al momento de navegar hacia la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Assert that the browser is on the page.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">assert</span><span class="token punctuation">(</span>Browser <span class="token variable">$browser</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertPathIs</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="navigating-to-pages"></a></p> <h3 id="navegando-hacia-las-paginas"><a href="#navegando-hacia-las-paginas" aria-hidden="true" class="header-anchor">#</a> Navegando Hacia las Páginas</h3> <p>Una vez que se ha configurado una página, puedes navegar a ella utilizando el método <code>visit</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>Login</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Login</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>A veces es posible que ya estés en una página determinada y necesitas &quot;cargar&quot; los selectores y métodos dentro del contexto de prueba actual. Esto es común al momento de presionar un botón y ser redireccionado a una página dada sin navegar explícitamente a ésta. En esta situación, puedes usar el método <code>on</code> para cargar la página.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>CreatePlaylist</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/dashboard'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clickLink</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Create Playlist'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CreatePlaylist</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@create'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="shorthand-selectors"></a></p> <h3 id="selectores-abreviados"><a href="#selectores-abreviados" aria-hidden="true" class="header-anchor">#</a> Selectores Abreviados</h3> <p>El método <code>elements</code> de páginas permite que definas abreviaturas rápidas, fáciles de recordar para cualquier selector CSS en tu página. Por ejemplo, vamos a definir una abreviación para el campo &quot;email&quot; de la página login de la aplicación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Get the element shortcuts for the page.
*
* @return array
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'@email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'input[name=email]'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora, puedes usar este selector de abreviación en cualquier lugar que usarías un selector de CSS completo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@email'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'taylor@laravel.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="selectores-de-abreviaturas-globales"><a href="#selectores-de-abreviaturas-globales" aria-hidden="true" class="header-anchor">#</a> Selectores de Abreviaturas Globales</h4> <p>Después de instalar Dusk, una clase <code>Page</code> básica será colocada en tu directorio <code>tests/Browser/Pages</code>. Esta clase contiene un método <code>siteElements</code> el cual puede ser usado para definir selectores de abreviaturas globales que deberían estar disponibles en cada página en cada parte de tu aplicación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Get the global element shortcuts for the site.
*
* @return array
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">siteElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'@element'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'#selector'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="page-methods"></a></p> <h3 id="metodos-de-pagina"><a href="#metodos-de-pagina" aria-hidden="true" class="header-anchor">#</a> Métodos de Página</h3> <p>Además de los métodos predeterminados definidos en páginas, puedes definir métodos adicionales, los cuales pueden ser usados en cualquier parte de tus pruebas. Por ejemplo, vamos a imaginar que estamos construyendo una aplicación para administración de música. Una acción común para una página de la aplicación podría ser crear una lista de reproducción. En lugar de volver a escribir la lógica para crear una lista de reproducción en cada prueba, puedes definir un método <code>createPlaylist</code> en una clase de página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Pages</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Other page methods...</span>

    <span class="token comment">/**
    * Create a new playlist.
    *
    * @param  \Laravel\Dusk\Browser  $browser
    * @param  string  $name
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">createPlaylist</span><span class="token punctuation">(</span>Browser <span class="token variable">$browser</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'share'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Create Playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que el método ha sido definido, puedes usarlo dentro de cualquier prueba que utilice la página. La instancia de navegador será pasada automáticamente al método de la página:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Pages<span class="token punctuation">\</span>Dashboard</span><span class="token punctuation">;</span>

<span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dashboard</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createPlaylist</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'My Playlist'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'My Playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="components"></a></p> <h2 id="componentes"><a href="#componentes" aria-hidden="true" class="header-anchor">#</a> Componentes</h2> <p>Los componentes son similares a “los objetos de página” de Dusk, pero son planeados para partes de UI y funcionalidades que sean reusadas en otras partes de tu aplicación, tal como una barra de navegación o ventana de notificación. Como tal, los componentes no son enlazados a URLs específicas.</p> <p><a name="generating-components"></a></p> <h3 id="generando-componentes"><a href="#generando-componentes" aria-hidden="true" class="header-anchor">#</a> Generando Componentes</h3> <p>Para generar un componente, usa el comando Artisan <code>dusk:component</code>. Los nuevos componentes son colocados en el directorio <code>test/Browser/Components</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan dusk<span class="token punctuation">:</span>component DatePicker
</code></pre></div><p>Como se muestra antes, un &quot;calendario&quot; es un ejemplo de un componente que puede existir en cualquier parte de tu aplicación en una variedad de páginas. Puede volverse complejo escribir manualmente lógica de automatización de navegador para seleccionar una fecha entre docenas de pruebas en cualquier parte de tu software de prueba. En lugar de esto, podemos definir un componente de Dusk para representar el calendario, permitiendo encapsular esa lógica dentro del componente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Components</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Component</span> <span class="token keyword">as</span> BaseComponent<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DatePicker</span> <span class="token keyword">extends</span> <span class="token class-name">BaseComponent</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Get the root selector for the component.
    *
    * @return string
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">selector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'.date-picker'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Assert that the browser page contains the component.
    *
    * @param  Browser  $browser
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">assert</span><span class="token punctuation">(</span>Browser <span class="token variable">$browser</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertVisible</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">selector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Get the element shortcuts for the component.
    *
    * @return array
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'@date-field'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'input.datepicker-input'</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'@month-list'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'div &gt; div.datepicker-months'</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'@day-list'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'div &gt; div.datepicker-days'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Select the given date.
    *
    * @param  \Laravel\Dusk\Browser  $browser
    * @param  int  $month
    * @param  int  $day
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">selectDate</span><span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">,</span> <span class="token variable">$month</span><span class="token punctuation">,</span> <span class="token variable">$day</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@date-field'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@month-list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$month</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token variable">$month</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'@day-list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$day</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token variable">$day</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="using-components"></a></p> <h3 id="usando-componentes"><a href="#usando-componentes" aria-hidden="true" class="header-anchor">#</a> Usando Componentes</h3> <p>Una vez que el componente ha sido definido, fácilmente podemos seleccionar una fecha dentro del calendario desde cualquier prueba. Y, si la lógica necesaria para seleccionar una fecha cambia, solamente necesitaremos actualizar el componente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>DuskTestCase</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Dusk<span class="token punctuation">\</span>Browser</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Browser<span class="token punctuation">\</span>Components<span class="token punctuation">\</span>DatePicker</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span class="token punctuation">\</span>Testing<span class="token punctuation">\</span>DatabaseMigrations</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ExampleTest</span> <span class="token keyword">extends</span> <span class="token class-name">DuskTestCase</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * A basic component test example.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testBasicExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">browse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Browser <span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">within</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DatePicker</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$browser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token variable">$browser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">selectDate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSee</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'January'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="continuous-integration"></a></p> <h2 id="integracion-continua"><a href="#integracion-continua" aria-hidden="true" class="header-anchor">#</a> Integración Continua</h2> <p><a name="running-tests-on-circle-ci"></a></p> <h3 id="circleci"><a href="#circleci" aria-hidden="true" class="header-anchor">#</a> CircleCI</h3> <p>Si estás usando CircleCI para ejecutar tus pruebas de Dusk, puedes usar este archivo de configuración como punto de partida. Al igual que con TravisCI, usaremos el comando <code>php artisan serve</code> para ejecutar el servidor web integrado de PHP:</p> <div class="language-php extra-class"><pre class="language-php"><code>version<span class="token punctuation">:</span> <span class="token number">2</span>
jobs<span class="token punctuation">:</span>
    build<span class="token punctuation">:</span>
        steps<span class="token punctuation">:</span>
            <span class="token operator">-</span> run<span class="token punctuation">:</span> sudo apt<span class="token operator">-</span>get install <span class="token operator">-</span>y libsqlite3<span class="token operator">-</span>dev
            <span class="token operator">-</span> run<span class="token punctuation">:</span> cp <span class="token punctuation">.</span>env<span class="token punctuation">.</span>testing <span class="token punctuation">.</span>env
            <span class="token operator">-</span> run<span class="token punctuation">:</span> composer install <span class="token operator">-</span>n <span class="token operator">--</span>ignore<span class="token operator">-</span>platform<span class="token operator">-</span>reqs
            <span class="token operator">-</span> run<span class="token punctuation">:</span> npm install
            <span class="token operator">-</span> run<span class="token punctuation">:</span> npm run production
            <span class="token operator">-</span> run<span class="token punctuation">:</span> vendor<span class="token operator">/</span>bin<span class="token operator">/</span>phpunit
    
            <span class="token operator">-</span> run<span class="token punctuation">:</span>
                name<span class="token punctuation">:</span> Start Chrome Driver
                command<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token operator">/</span>vendor<span class="token operator">/</span>laravel<span class="token operator">/</span>dusk<span class="token operator">/</span>bin<span class="token operator">/</span>chromedriver<span class="token operator">-</span>linux
                background<span class="token punctuation">:</span> <span class="token boolean">true</span>
    
            <span class="token operator">-</span> run<span class="token punctuation">:</span>
                name<span class="token punctuation">:</span> Run Laravel Server
                command<span class="token punctuation">:</span> php artisan serve
                background<span class="token punctuation">:</span> <span class="token boolean">true</span>
    
            <span class="token operator">-</span> run<span class="token punctuation">:</span>
                name<span class="token punctuation">:</span> Run Laravel Dusk Tests
                command<span class="token punctuation">:</span> php artisan dusk
</code></pre></div><p><a name="running-tests-on-codeship"></a></p> <h3 id="codeship"><a href="#codeship" aria-hidden="true" class="header-anchor">#</a> Codeship</h3> <p>Para ejecutar pruebas de Dusk en <a href="https://codeship.com" target="_blank" rel="noopener noreferrer">Codeship<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, agrega los siguientes comandos a tu proyecto Codeship. Estos comandos son sólo un punto de partida y eres libre de agregar los comandos adicionales que necesites:</p> <div class="language-php extra-class"><pre class="language-php"><code>phpenv local <span class="token number">7.2</span>
cp <span class="token punctuation">.</span>env<span class="token punctuation">.</span>testing <span class="token punctuation">.</span>env
mkdir <span class="token operator">-</span>p <span class="token punctuation">.</span><span class="token operator">/</span>bootstrap<span class="token operator">/</span>cache
composer install <span class="token operator">--</span>no<span class="token operator">-</span>interaction <span class="token operator">--</span>prefer<span class="token operator">-</span>dist
php artisan key<span class="token punctuation">:</span>generate
nohup bash <span class="token operator">-</span>c <span class="token double-quoted-string string">&quot;php artisan serve 2&gt;&amp;1 &amp;&quot;</span> <span class="token operator">&amp;&amp;</span> sleep <span class="token number">5</span>
php artisan dusk
</code></pre></div><p><a name="running-tests-on-heroku-ci"></a></p> <h3 id="heroku-ci"><a href="#heroku-ci" aria-hidden="true" class="header-anchor">#</a> Heroku CI</h3> <p>Para ejecutar tus pruebas de Dusk en <a href="https://www.heroku.com/continuous-integration" target="_blank" rel="noopener noreferrer">Heroku CI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, agrega el siguiente buildpack de Google Chrome y scripts a tu archivo <code>app.json</code> de Heroku:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span>
    <span class="token double-quoted-string string">&quot;environments&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token double-quoted-string string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token double-quoted-string string">&quot;buildpacks&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token double-quoted-string string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token double-quoted-string string">&quot;heroku/php&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token double-quoted-string string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token double-quoted-string string">&quot;https://github.com/heroku/heroku-buildpack-google-chrome&quot;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token double-quoted-string string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token double-quoted-string string">&quot;test-setup&quot;</span><span class="token punctuation">:</span> <span class="token double-quoted-string string">&quot;cp .env.testing .env&quot;</span><span class="token punctuation">,</span>
                <span class="token double-quoted-string string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token double-quoted-string string">&quot;nohup bash -c './vendor/laravel/dusk/bin/chromedriver-linux &gt; /dev/null 2&gt;&amp;1 &amp;' &amp;&amp; nohup bash -c 'php artisan serve &gt; /dev/null 2&gt;&amp;1 &amp;' &amp;&amp; php artisan dusk&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="running-tests-on-travis-ci"></a></p> <h3 id="travis-ci"><a href="#travis-ci" aria-hidden="true" class="header-anchor">#</a> Travis CI</h3> <p>Para ejecutar tus pruebas de Dusk en <a href="https://travis-ci.org" target="_blank" rel="noopener noreferrer">Travis CI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, usa la siguiente configuración en el archivo <code>.travis.yml</code>. Ya que Travis CI no es un entorno gráfico, necesitaremos tomar algunos pasos extras con el propósito de ejecutar un navegador Chrome. En adición a esto, usaremos <code>php artisan serve</code> para ejecutar el servidor web integrado de PHP:</p> <div class="language-php extra-class"><pre class="language-php"><code>language<span class="token punctuation">:</span> php

php<span class="token punctuation">:</span>
    <span class="token operator">-</span> <span class="token number">7.3</span>

addons<span class="token punctuation">:</span>
    chrome<span class="token punctuation">:</span> stable

install<span class="token punctuation">:</span>
    <span class="token operator">-</span> cp <span class="token punctuation">.</span>env<span class="token punctuation">.</span>testing <span class="token punctuation">.</span>env
    <span class="token operator">-</span> travis_retry composer install <span class="token operator">--</span>no<span class="token operator">-</span>interaction <span class="token operator">--</span>prefer<span class="token operator">-</span>dist <span class="token operator">--</span>no<span class="token operator">-</span>suggest
    <span class="token operator">-</span> php artisan key<span class="token punctuation">:</span>generate

before_script<span class="token punctuation">:</span>
    <span class="token operator">-</span> google<span class="token operator">-</span>chrome<span class="token operator">-</span>stable <span class="token operator">--</span>headless <span class="token operator">--</span>disable<span class="token operator">-</span>gpu <span class="token operator">--</span>remote<span class="token operator">-</span>debugging<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">9222</span> http<span class="token punctuation">:</span><span class="token comment">//localhost &amp;</span>
    <span class="token operator">-</span> php artisan serve <span class="token operator">&amp;</span>

script<span class="token punctuation">:</span>
    <span class="token operator">-</span> php artisan dusk
</code></pre></div><p>En tu archivo <code>.env.testing</code>, ajusta el valor de <code>APP_URL</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">APP_URL</span><span class="token operator">=</span>http<span class="token punctuation">:</span><span class="token comment">//127.0.0.1:8000</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/console-tests.html" class="prev">
          Pruebas de consola
        </a></span> <span class="next"><a href="/database-testing.html">
          Pruebas de Base de Datos
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.bf22240a.js" defer></script><script src="/assets/js/5.2c350d8b.js" defer></script>
  </body>
</html>
