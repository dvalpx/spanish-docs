<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Collecciones | Documentación de Laravel en Español</title>
    <meta name="description" content="Documentación de Laravel en Español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
    
    <link rel="preload" href="/assets/css/0.styles.172acefb.css" as="style"><link rel="preload" href="/assets/js/app.670d7e7c.js" as="script"><link rel="preload" href="/assets/js/2.e950dd9a.js" as="script"><link rel="prefetch" href="/assets/js/10.890657ad.js"><link rel="prefetch" href="/assets/js/11.886ca6a1.js"><link rel="prefetch" href="/assets/js/12.0d2fa60e.js"><link rel="prefetch" href="/assets/js/13.9645d1cc.js"><link rel="prefetch" href="/assets/js/14.b601f515.js"><link rel="prefetch" href="/assets/js/15.8a736f30.js"><link rel="prefetch" href="/assets/js/16.4ecd6c92.js"><link rel="prefetch" href="/assets/js/17.0f287924.js"><link rel="prefetch" href="/assets/js/18.a3ca4e9a.js"><link rel="prefetch" href="/assets/js/19.e237c464.js"><link rel="prefetch" href="/assets/js/20.6c81b2f5.js"><link rel="prefetch" href="/assets/js/21.ab56b213.js"><link rel="prefetch" href="/assets/js/22.5db63cfd.js"><link rel="prefetch" href="/assets/js/23.6d6d19fa.js"><link rel="prefetch" href="/assets/js/24.771ff8be.js"><link rel="prefetch" href="/assets/js/25.61bfdf54.js"><link rel="prefetch" href="/assets/js/26.049ed12f.js"><link rel="prefetch" href="/assets/js/27.d2927876.js"><link rel="prefetch" href="/assets/js/28.ea6eee97.js"><link rel="prefetch" href="/assets/js/29.1b8672f3.js"><link rel="prefetch" href="/assets/js/3.d15edf81.js"><link rel="prefetch" href="/assets/js/30.378a4977.js"><link rel="prefetch" href="/assets/js/31.8e5176cc.js"><link rel="prefetch" href="/assets/js/32.8fdeb297.js"><link rel="prefetch" href="/assets/js/33.b615bcb8.js"><link rel="prefetch" href="/assets/js/34.3b36c043.js"><link rel="prefetch" href="/assets/js/35.ef8dd300.js"><link rel="prefetch" href="/assets/js/36.4e90af03.js"><link rel="prefetch" href="/assets/js/37.6131dd1b.js"><link rel="prefetch" href="/assets/js/38.b4345420.js"><link rel="prefetch" href="/assets/js/39.c4e3c17b.js"><link rel="prefetch" href="/assets/js/4.333c2311.js"><link rel="prefetch" href="/assets/js/40.f780e123.js"><link rel="prefetch" href="/assets/js/41.4a1a10ae.js"><link rel="prefetch" href="/assets/js/42.8969bd07.js"><link rel="prefetch" href="/assets/js/43.557e2bb4.js"><link rel="prefetch" href="/assets/js/44.5151c083.js"><link rel="prefetch" href="/assets/js/45.e944dba1.js"><link rel="prefetch" href="/assets/js/46.9a35689c.js"><link rel="prefetch" href="/assets/js/47.228f7fa9.js"><link rel="prefetch" href="/assets/js/48.47aaf80a.js"><link rel="prefetch" href="/assets/js/49.94e9af6a.js"><link rel="prefetch" href="/assets/js/5.dfd255c8.js"><link rel="prefetch" href="/assets/js/50.62d3bcc7.js"><link rel="prefetch" href="/assets/js/51.44dc5c59.js"><link rel="prefetch" href="/assets/js/52.259aa4a1.js"><link rel="prefetch" href="/assets/js/53.5f5cc6de.js"><link rel="prefetch" href="/assets/js/54.aecf28b6.js"><link rel="prefetch" href="/assets/js/55.9eb54728.js"><link rel="prefetch" href="/assets/js/56.59d4faa4.js"><link rel="prefetch" href="/assets/js/57.b8edd47a.js"><link rel="prefetch" href="/assets/js/58.0b43b12f.js"><link rel="prefetch" href="/assets/js/59.9a35b2b7.js"><link rel="prefetch" href="/assets/js/6.08b745f4.js"><link rel="prefetch" href="/assets/js/60.7d49176e.js"><link rel="prefetch" href="/assets/js/61.147bff06.js"><link rel="prefetch" href="/assets/js/62.3440b436.js"><link rel="prefetch" href="/assets/js/63.02a68d7e.js"><link rel="prefetch" href="/assets/js/64.039a514c.js"><link rel="prefetch" href="/assets/js/65.b4001712.js"><link rel="prefetch" href="/assets/js/66.18b0a11f.js"><link rel="prefetch" href="/assets/js/67.f84e9d1d.js"><link rel="prefetch" href="/assets/js/68.3d907f1f.js"><link rel="prefetch" href="/assets/js/69.503b03bf.js"><link rel="prefetch" href="/assets/js/7.4f2afe0c.js"><link rel="prefetch" href="/assets/js/70.3fb14c22.js"><link rel="prefetch" href="/assets/js/71.2a8bb910.js"><link rel="prefetch" href="/assets/js/72.325984f7.js"><link rel="prefetch" href="/assets/js/73.1b173d90.js"><link rel="prefetch" href="/assets/js/74.6ab9d1bd.js"><link rel="prefetch" href="/assets/js/75.81c87089.js"><link rel="prefetch" href="/assets/js/76.4c6ad92e.js"><link rel="prefetch" href="/assets/js/77.ca20fa7b.js"><link rel="prefetch" href="/assets/js/78.cb6a269d.js"><link rel="prefetch" href="/assets/js/79.529c080d.js"><link rel="prefetch" href="/assets/js/8.23b9f04b.js"><link rel="prefetch" href="/assets/js/80.1001e373.js"><link rel="prefetch" href="/assets/js/81.98ee983b.js"><link rel="prefetch" href="/assets/js/9.288ef444.js">
    <link rel="stylesheet" href="/assets/css/0.styles.172acefb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en Español</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Primeros Pasos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Conceptos De Arquitectura</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Profundizando</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/artisan.html" class="sidebar-link">Consola Artisan</a></li><li><a href="/broadcasting.html" class="sidebar-link">Broadcasting</a></li><li><a href="/cache.html" class="sidebar-link">Caché</a></li><li><a href="/collections.html" class="active sidebar-link">Collecciones</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collections.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/collections.html#metodos-disponibles" class="sidebar-link">Métodos Disponibles</a></li><li class="sidebar-sub-header"><a href="/collections.html#lista-de-metodos" class="sidebar-link">Lista de Métodos</a></li><li class="sidebar-sub-header"><a href="/collections.html#mensajes-de-orden-superior" class="sidebar-link">Mensajes de Orden Superior</a></li></ul></li><li><a href="/events.html" class="sidebar-link">Eventos</a></li><li><a href="/filesystem.html" class="sidebar-link">Almacenamiento De Archivos</a></li><li><a href="/helpers.html" class="sidebar-link">Helpers</a></li><li><a href="/mail.html" class="sidebar-link">Correos Electrónicos</a></li><li><a href="/notifications.html" class="sidebar-link">Notificaciones</a></li><li><a href="/packages.html" class="sidebar-link">Desarrollo de Paquetes</a></li><li><a href="/queues.html" class="sidebar-link">Colas De Trabajo</a></li><li><a href="/scheduling.html" class="sidebar-link">Programación de tareas</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Bases De Datos</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ORM Eloquent</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><div><h1 id="collecciones"><a class="header-anchor" href="#collecciones" aria-hidden="true">#</a> Collecciones</h1> <ul><li><a href="#introduction">Introducción</a> <ul><li><a href="#creating-collections">Creando Collecciones</a></li> <li><a href="#extending-collections">Extendiendo Collecciones</a></li></ul></li> <li><a href="#available-methods">Métodos Disponibles</a></li> <li><a href="#higher-order-messages">Mensajes De Orden Superior</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion" aria-hidden="true">#</a> Introducción</h2> <p>La clase <code>Illuminate\Support\Collection</code> provee una interfaz fluida y conveniente para trabajar con arreglos de datos. Por ejemplo, mira el siguiente código. Usaremos la función helper <code>collect</code> para crear una nueva instancia de <code>Collection</code> pasando un arreglo como parámetro, se ejecuta la función <code>strtoupper</code> en cada elemento y luego elimina todos los elementos vacíos:</p> <div class="language-php extra-class"><pre v-pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'abigail'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Como puedes ver, la clase <code>Collection</code> te permite encadenar sus métodos para realizar un mapeo fluido y reducir el arreglo subyacente. En general, las colecciones son inmutables, es decir, cada método de <code>Collection</code> retorna una nueva instancia de <code>Collection</code>.</p> <p><a name="creating-collections"></a></p> <h3 id="creando-colecciones"><a class="header-anchor" href="#creando-colecciones" aria-hidden="true">#</a> Creando Colecciones</h3> <p>Como se ha mencionado más arriba, el helper <code>collect</code> retorna una nueva instancia de <code>Illuminate\Support\Collection</code> para el arreglo dado. Entonces, crear una colección es tan simple como:</p> <div class="language-php extra-class"><pre v-pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Las respuestas de <a href="/docs/%7B%7Bversion%7D%7D/eloquent">Eloquent</a> siempre retornan una instancia de <code>Collection</code>.</p></div></div> <p><a name="extending-collections"></a></p> <h3 id="extendiendo-colecciones"><a href="#extendiendo-colecciones" aria-hidden="true" class="header-anchor">#</a> Extendiendo Colecciones</h3> <p>Las colecciones son &quot;macroable&quot;, es decir, te permite agregar métodos adicionales a la clase <code>Collection</code> en tiempo de ejecución. Por ejemplo, el siguiente código agrega un método <code>toUpper</code> a la clase <code>Collection</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Str</span><span class="token punctuation">;</span>

Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">macro</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'toUpper'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Str<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">upper</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'first'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'second'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$upper</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['FIRST', 'SECOND']</span>
</code></pre></div><p>Por lo general, los macros para una colección se declaran en un <a href="/docs/%7B%7Bversion%7D%7D/providers">proveedor de servicios</a>.</p> <p><a name="available-methods"></a></p> <h2 id="metodos-disponibles"><a href="#metodos-disponibles" aria-hidden="true" class="header-anchor">#</a> Métodos Disponibles</h2> <p>Por el resto de esta documentación, discutiremos cada método disponible en la clase <code>Collection</code>. Recuerda, todos estos métodos pueden estar encadenados a la manipulación fluida del arreglo subyacente. Además, casi todos los métodos devuelven una nueva instancia de <code>Collection</code>, lo que te permite conservar la copia original de la colección cuando sea necesario:</p> <div id="collection-method-list" markdown="1"><p><a href="#method-all">all</a> <a href="#method-average">average</a> <a href="#method-avg">avg</a> <a href="#method-chunk">chunk</a> <a href="#method-collapse">collapse</a> <a href="#method-combine">combine</a> <a href="#method-concat">concat</a> <a href="#method-contains">contains</a> <a href="#method-containsstrict">containsStrict</a> <a href="#method-count">count</a> <a href="#method-countBy">countBy</a> <a href="#method-crossjoin">crossJoin</a> <a href="#method-dd">dd</a> <a href="#method-diff">diff</a> <a href="#method-diffassoc">diffAssoc</a> <a href="#method-diffkeys">diffKeys</a> <a href="#method-dump">dump</a> <a href="#method-each">each</a> <a href="#method-eachspread">eachSpread</a> <a href="#method-every">every</a> <a href="#method-except">except</a> <a href="#method-filter">filter</a> <a href="#method-first">first</a> <a href="#method-first-where">firstWhere</a> <a href="#method-flatmap">flatMap</a> <a href="#method-flatten">flatten</a> <a href="#method-flip">flip</a> <a href="#method-forget">forget</a> <a href="#method-forpage">forPage</a> <a href="#method-get">get</a> <a href="#method-groupby">groupBy</a> <a href="#method-has">has</a> <a href="#method-implode">implode</a> <a href="#method-intersect">intersect</a> <a href="#method-intersectbykeys">intersectByKeys</a> <a href="#method-isempty">isEmpty</a> <a href="#method-isnotempty">isNotEmpty</a> <a href="#method-join">join</a> <a href="#method-keyby">keyBy</a> <a href="#method-keys">keys</a> <a href="#method-last">last</a> <a href="#method-macro">macro</a> <a href="#method-make">make</a> <a href="#method-map">map</a> <a href="#method-mapinto">mapInto</a> <a href="#method-mapspread">mapSpread</a> <a href="#method-maptogroups">mapToGroups</a> <a href="#method-mapwithkeys">mapWithKeys</a> <a href="#method-max">max</a> <a href="#method-median">median</a> <a href="#method-merge">merge</a> <a href="#method-min">min</a> <a href="#method-mode">mode</a> <a href="#method-nth">nth</a> <a href="#method-only">only</a> <a href="#method-pad">pad</a> <a href="#method-partition">partition</a> <a href="#method-pipe">pipe</a> <a href="#method-pluck">pluck</a> <a href="#method-pop">pop</a> <a href="#method-prepend">prepend</a> <a href="#method-pull">pull</a> <a href="#method-push">push</a> <a href="#method-put">put</a> <a href="#method-random">random</a> <a href="#method-reduce">reduce</a> <a href="#method-reject">reject</a> <a href="#method-reverse">reverse</a> <a href="#method-search">search</a> <a href="#method-shift">shift</a> <a href="#method-shuffle">shuffle</a> <a href="#method-slice">slice</a> <a href="#method-some">some</a> <a href="#method-sort">sort</a> <a href="#method-sortby">sortBy</a> <a href="#method-sortbydesc">sortByDesc</a> <a href="#method-sortkeys">sortKeys</a> <a href="#method-sortkeysdesc">sortKeysDesc</a> <a href="#method-splice">splice</a> <a href="#method-split">split</a> <a href="#method-sum">sum</a> <a href="#method-take">take</a> <a href="#method-tap">tap</a> <a href="#method-times">times</a> <a href="#method-toarray">toArray</a> <a href="#method-tojson">toJson</a> <a href="#method-transform">transform</a> <a href="#method-union">union</a> <a href="#method-unique">unique</a> <a href="#method-uniquestrict">uniqueStrict</a> <a href="#method-unless">unless</a> <a href="#method-unlessempty">unlessEmpty</a> <a href="#method-unlessnotempty">unlessNotEmpty</a> <a href="#method-unwrap">unwrap</a> <a href="#method-values">values</a> <a href="#method-when">when</a> <a href="#method-whenempty">whenEmpty</a> <a href="#method-whennotempty">whenNotEmpty</a> <a href="#method-where">where</a> <a href="#method-wherestrict">whereStrict</a> <a href="#method-wherebetween">whereBetween</a> <a href="#method-wherein">whereIn</a> <a href="#method-whereinstrict">whereInStrict</a> <a href="#method-whereinstanceof">whereInstanceOf</a> <a href="#method-wherenotbetween">whereNotBetween</a> <a href="#method-wherenotin">whereNotIn</a> <a href="#method-wherenotinstrict">whereNotInStrict</a> <a href="#method-wrap">wrap</a> <a href="#method-zip">zip</a></p></div> <p><a name="method-listing"></a></p> <h2 id="lista-de-metodos"><a href="#lista-de-metodos" aria-hidden="true" class="header-anchor">#</a> Lista de Métodos</h2> <p><a name="method-all"></a></p> <h4 id="all-collection-method-first-collection-method"><a href="#all-collection-method-first-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>all()</code> {#collection-method .first-collection-method}</h4> <p>El método <code>all</code> devuelve el arreglo subyacente representado por la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3]</span>
</code></pre></div><p><a name="method-average"></a></p> <h4 id="average-collection-method"><a href="#average-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>average()</code> {#collection-method}</h4> <p>Alias del método <a href="#method-avg"><code>avg</code></a>.</p> <p><a name="method-avg"></a></p> <h4 id="avg-collection-method"><a href="#avg-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>avg()</code> {#collection-method}</h4> <p>El método <code>avg</code> retorna el <a href="https://en.wikipedia.org/wiki/Average" target="_blank" rel="noopener noreferrer">promedio<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> de una llave dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$average</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 20</span>

<span class="token variable">$average</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2</span>
</code></pre></div><p><a name="method-chunk"></a></p> <h4 id="chunk-collection-method"><a href="#chunk-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>chunk()</code> {#collection-method}</h4> <p>El método <code>chunk</code> divide la colección en múltiples colecciones más pequeñas de un tamaño dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunks</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">chunk</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunks</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [[1, 2, 3, 4], [5, 6, 7]]</span>
</code></pre></div><p>Este método es especialmente útil en las <a href="/docs/%7B%7Bversion%7D%7D/views">vistas</a> cuando se trabaja con un sistema de grillas como el de <a href="https://getbootstrap.com/docs/4.1/layout/grid/" target="_blank" rel="noopener noreferrer">Bootstrap<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Imagina que tienes una colección de modelos <a href="/docs/%7B%7Bversion%7D%7D/eloquent">Eloquent</a> y quieres mostrar en una grilla lo siguiente:</p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$products</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">chunk</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$chunk</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;row&quot;</span><span class="token operator">&gt;</span>
        @<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$chunk</span> <span class="token keyword">as</span> <span class="token variable">$product</span><span class="token punctuation">)</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;col-xs-4&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$product</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">name</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        @<span class="token keyword">endforeach</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
@<span class="token keyword">endforeach</span>
</code></pre></div><p><a name="method-collapse"></a></p> <h4 id="collapse-collection-method"><a href="#collapse-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>collapse()</code> {#collection-method}</h4> <p>El método <code>collapse</code> contrae una colección de arreglos en una sola colección plana:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collapsed</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">collapse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collapsed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre></div><p><a name="method-combine"></a></p> <h4 id="combine-collection-method"><a href="#combine-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>combine()</code> {#collection-method}</h4> <p>El método <code>combine</code> combina las llaves de la colección con los valores de otro arreglo o colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$combined</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">combine</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'George'</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$combined</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['name' =&gt; 'George', 'age' =&gt; 29]</span>
</code></pre></div><p><a name="method-concat"></a></p> <h4 id="concat-collection-method"><a href="#concat-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>concat()</code> {#collection-method}</h4> <p>El método <code>concat</code> concatena un arreglo dado o valores de una colección al final de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$concatenated</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Jane Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Johnny Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$concatenated</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe', 'Jane Doe', 'Johnny Doe']</span>
</code></pre></div><p><a name="method-contains"></a></p> <h4 id="contains-collection-method"><a href="#contains-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>contains()</code> {#collection-method}</h4> <p>El método <code>contains</code> determina si la colección contiene un elemento dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// true</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'New York'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p>También puedes pasar la llave y el valor al método <code>contains</code>, que determinará si existe en la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p>Finalmente, también puedes pasar una función de retorno al método <code>contains</code> para realizar tu propia comprobación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p>El método <code>contains</code> utiliza comparaciones &quot;flexibles&quot; (loose) al verificar valores de elementos, lo que significa que una cadena con un valor entero se considerará igual a un entero del mismo valor. Usa el método <a href="#method-containsstrict"><code>containsStrict</code></a> si deseas una comparación &quot;estricta&quot;.</p> <p><a name="method-containsstrict"></a></p> <h4 id="containsstrict-collection-method"><a href="#containsstrict-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>containsStrict()</code> {#collection-method}</h4> <p>Este método funciona igual que el método <a href="#method-contains"><code>contains</code></a>; sin embargo, todos los valores se comparan utilizando comparaciones &quot;estrictas&quot;.</p> <p><a name="method-count"></a></p> <h4 id="count-collection-method"><a href="#count-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>count()</code> {#collection-method}</h4> <p>El método <code>count</code> devuelve la cantidad total de elementos en la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4</span>
</code></pre></div><p><a name="method-countBy"></a></p> <h4 id="countby-collection-method"><a href="#countby-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>countBy()</code> {#collection-method}</h4> <p>El método <code>count By</code> cuenta las ocurrencias de valores en la colección. Por defecto, el método cuenta las ocurrencias de cada elemento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$counted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">countBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$counted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1 =&gt; 1, 2 =&gt; 3, 3 =&gt; 1]</span>
</code></pre></div><p>Sin embargo, puedes pasar una función de retorno (callback) al método <code>countBy</code> para contar todos los elementos por un valor personalizado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'alice@gmail.com'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bob@yahoo.com'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'carlos@gmail.com'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$counted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">countBy</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token function">strrchr</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">&quot;@&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$counted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['gmail.com' =&gt; 2, 'yahoo.com' =&gt; 1]</span>
</code></pre></div><p><a name="method-crossjoin"></a></p> <h4 id="crossjoin-collection-method"><a href="#crossjoin-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>crossJoin()</code> {#collection-method}</h4> <p>El método <code>crossJoin</code> realiza un join cruzado entre los valores de la colección y los arreglos o colecciones dadas, devolviendo un producto cartesiano con todas las permutaciones posibles:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$matrix</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">crossJoin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$matrix</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        [1, 'a'],
        [1, 'b'],
        [2, 'a'],
        [2, 'b'],
    ]
*/</span>

<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$matrix</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">crossJoin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'I'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'II'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$matrix</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        [1, 'a', 'I'],
        [1, 'a', 'II'],
        [1, 'b', 'I'],
        [1, 'b', 'II'],
        [2, 'a', 'I'],
        [2, 'a', 'II'],
        [2, 'b', 'I'],
        [2, 'b', 'II'],
    ]
*/</span>
</code></pre></div><p><a name="method-dd"></a></p> <h4 id="dd-collection-method"><a href="#dd-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>dd()</code> {#collection-method}</h4> <p>El método <code>dd</code> muestra los elementos de la colección y finaliza la ejecución del script:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Jane Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    Collection {
        #items: array:2 [
            0 =&gt; &quot;John Doe&quot;
            1 =&gt; &quot;Jane Doe&quot;
        ]
    }
*/</span>
</code></pre></div><p>Si no quieres dejar de ejecutar el script, usa el método <a href="#method-dump"><code>dump</code></a>.</p> <p><a name="method-diff"></a></p> <h4 id="diff-collection-method"><a href="#diff-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>diff()</code> {#collection-method}</h4> <p>El método <code>diff</code> compara la colección con otra colección o una <code>arreglo</code> simple de PHP basado en sus valores. Este método devolverá los valores en la colección original que no están presentes en la colección dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">diff</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 3, 5]</span>
</code></pre></div><p><a name="method-diffassoc"></a></p> <h4 id="diffassoc-collection-method"><a href="#diffassoc-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>diffAssoc()</code> {#collection-method}</h4> <p>El método <code>diffAssoc</code> compara la colección con otra colección o un <code>arreglo</code> simple de PHP basado en sus claves y valores. Este método devolverá los pares clave / valor en la colección original que no están presentes en la colección dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'orange'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'fruit'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'remain'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">diffAssoc</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'yellow'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'fruit'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'remain'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'used'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['color' =&gt; 'orange', 'remain' =&gt; 6]</span>
</code></pre></div><p><a name="method-diffkeys"></a></p> <h4 id="diffkeys-collection-method"><a href="#diffkeys-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>diffKeys()</code> {#collection-method}</h4> <p>El método <code>diffKeys</code> compara la colección con otra colección o un <code>arreglo</code> de PHP simple en base a sus claves. Este método devolverá los pares clave / valor en la colección original que no están presentes en la colección dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'one'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'two'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'three'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'four'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">40</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'five'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">diffKeys</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'two'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'four'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'six'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'eight'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">8</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$diff</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['one' =&gt; 10, 'three' =&gt; 30, 'five' =&gt; 50]</span>
</code></pre></div><p><a name="method-dump"></a></p> <h4 id="dump-collection-method"><a href="#dump-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>dump()</code> {#collection-method}</h4> <p>El método <code>dump</code> volca los elementos de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Jane Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    Collection {
        #items: array:2 [
            0 =&gt; &quot;John Doe&quot;
            1 =&gt; &quot;Jane Doe&quot;
        ]
    }
*/</span>
</code></pre></div><p>Si deseas detener la ejecución del script después de volcar la colección, use el método <a href="#method-dd"><code>dd</code></a>.</p> <p><a name="method-each"></a></p> <h4 id="each-collection-method"><a href="#each-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>each()</code> {#collection-method}</h4> <p>El método <code>each</code> itera sobre los elementos de la colección y pasa cada elemento a una función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Si deseas detener la iteración a través de los elementos, puedes devolver <code>false</code> en la función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* some condition */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="method-eachspread"></a></p> <h4 id="eachspread-collection-method"><a href="#eachspread-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>eachSpread()</code> {#collection-method}</h4> <p>El método <code>eachSpread</code> itera sobre los elementos de la colección, pasando cada valor de elemento anidado a la función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Jane Doe'</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eachSpread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Puedes detener la iteración a través de los elementos al devolver <code>false</code> en la función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eachSpread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="method-every"></a></p> <h4 id="every-collection-method"><a href="#every-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>every()</code> {#collection-method}</h4> <p>El método <code>every</code> se puede usar para verificar que todos los elementos de una colección pasen una comprobación dada a través de una función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p>Si la colección está vacía, <code>every</code> devolverá true:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// true</span>
</code></pre></div><p><a name="method-except"></a></p> <h4 id="except-collection-method"><a href="#except-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>except()</code> {#collection-method}</h4> <p>El método <code>except</code> devuelve todos los elementos de la colección, excepto aquellos con las llaves especificadas:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'discount'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">except</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'discount'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['product_id' =&gt; 1]</span>
</code></pre></div><p>Para hacer lo contrario a <code>except</code>, vea el método <a href="#method-only">only</a>.</p> <p><a name="method-filter"></a></p> <h4 id="filter-collection-method"><a href="#filter-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>filter()</code> {#collection-method}</h4> <p>El método <code>filter</code> filtra la colección usando una función de retorno (callback), manteniendo solo los elementos que pasan la comprobación dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3, 4]</span>
</code></pre></div><p>Si no se proporciona una función de retorno, se eliminarán todos los elementos de la colección que son equivalentes a <code>false</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3]</span>
</code></pre></div><p>Para hacer lo contrario a <code>filter</code>, echa un vistazo al método <a href="#method-reject">reject</a>.</p> <p><a name="method-first"></a></p> <h4 id="first-collection-method"><a href="#first-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>first()</code> {#collection-method}</h4> <p>El método <code>first</code> devuelve el primer elemento de la colección que pasa la comprobación en una función de retorno (callback) dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3</span>
</code></pre></div><p>También puedes llamar al método <code>first</code> sin argumentos para obtener el primer elemento de la colección. Si la colección está vacía, se devuelve <code>null</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1</span>
</code></pre></div><p><a name="method-first-where"></a></p> <h4 id="firstwhere-collection-method"><a href="#firstwhere-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>firstWhere()</code> {#collection-method}</h4> <p>El método <code>firstWhere</code> devuelve el primer elemento de la colección con la clave y el valor proporcionado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Regena'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Linda'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Diego'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Linda'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">84</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">firstWhere</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Linda'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['name' =&gt; 'Linda', 'age' =&gt; 14]</span>
</code></pre></div><p>También puedes llamar al método <code>firstWhere</code> con un operador:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">firstWhere</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'&gt;='</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['name' =&gt; 'Diego', 'age' =&gt; 23]</span>
</code></pre></div><p>Similar al método <a href="#method-where">where</a>, puedes pasar un argumento al método <code>firstWhere</code>. En este escenario, el método <code>firstWhere</code> retornará el primer elemento donde el valor de la clave dada es &quot;verídico&quot;:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">firstWhere</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['name' =&gt; 'Linda', 'age' =&gt; 14]</span>
</code></pre></div><p><a name="method-flatmap"></a></p> <h4 id="flatmap-collection-method"><a href="#flatmap-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>flatMap()</code> {#collection-method}</h4> <p>El método <code>flatMap</code> itera a través de la colección y pasa cada valor a una función de retorno (callback). La función de retorno es libre de modificar el elemento y devolverlo, formando así una nueva colección de elementos modificados. Entonces, el arreglo se aplana a un solo nivel:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Sally'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'school'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Arkansas'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">28</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flattened</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">array_map</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'strtoupper'</span><span class="token punctuation">,</span> <span class="token variable">$values</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flattened</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['name' =&gt; 'SALLY', 'school' =&gt; 'ARKANSAS', 'age' =&gt; '28'];</span>
</code></pre></div><p><a name="method-flatten"></a></p> <h4 id="flatten-collection-method"><a href="#flatten-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>flatten()</code> {#collection-method}</h4> <p>El método <code>flatten</code> aplana una colección multidimensional en una de una sola dimensión:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'languages'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'php'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'javascript'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flattened</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flatten</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flattened</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['taylor', 'php', 'javascript'];</span>
</code></pre></div><p>Opcionalmente, puedes pasarle a la función un argumento de &quot;profundidad&quot;:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'Apple'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'iPhone 6S'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Apple'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'Samsung'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Galaxy S7'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Samsung'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$products</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flatten</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$products</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'iPhone 6S', 'brand' =&gt; 'Apple'],
        ['name' =&gt; 'Galaxy S7', 'brand' =&gt; 'Samsung'],
    ]
*/</span>
</code></pre></div><p>En este ejemplo, al llamar a <code>flatten</code> sin proporcionar la profundidad también se aplanarían los arreglos anidados, lo que da como resultado<code>['iPhone 6S', 'Apple', 'Galaxy S7', 'Samsung']</code>. Proporcionar una profundidad te permite restringir los niveles de arreglos anidados que se aplanarán.</p> <p><a name="method-flip"></a></p> <h4 id="flip-collection-method"><a href="#flip-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>flip()</code> {#collection-method}</h4> <p>El método <code>flip</code> intercambia las llaves de la colección con sus valores correspondientes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'framework'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'laravel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flipped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$flipped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['taylor' =&gt; 'name', 'laravel' =&gt; 'framework']</span>
</code></pre></div><p><a name="method-forget"></a></p> <h4 id="forget-collection-method"><a href="#forget-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>forget()</code> {#collection-method}</h4> <p>El método <code>forget</code> elimina un elemento de la colección por su clave:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'framework'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'laravel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">forget</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['framework' =&gt; 'laravel']</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>A diferencia de la mayoría de métodos de una colección, <code>forget</code> no devuelve una nueva colección modificada; modifica la colección a la que se llama.</p></div> <p><a name="method-forpage"></a></p> <h4 id="forpage-collection-method"><a href="#forpage-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>forPage()</code> {#collection-method}</h4> <p>El método <code>forPage</code> devuelve una nueva colección que contiene los elementos que estarían presentes en un número de página determinado. El método acepta el número de página como su primer argumento y la cantidad de elementos para mostrar por página como su segundo argumento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">forPage</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [4, 5, 6]</span>
</code></pre></div><p><a name="method-get"></a></p> <h4 id="get-collection-method"><a href="#get-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>get()</code> {#collection-method}</h4> <p>El método <code>get</code> devuelve el elemento en una clave determinada. Si la clave no existe, se devuelve <code>null</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'framework'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'laravel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// taylor</span>
</code></pre></div><p>Opcionalmente, puedes pasar un valor predeterminado como segundo argumento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'framework'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'laravel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'default-value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// default-value</span>
</code></pre></div><p>Incluso puedes pasar una función de retorno (callback) como el valor por defecto. El resultado de la función de retorno se devolverá si la clave especificada no existe:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'default-value'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// default-value</span>
</code></pre></div><p><a name="method-groupby"></a></p> <h4 id="groupby-collection-method"><a href="#groupby-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>groupBy()</code> {#collection-method}</h4> <p>El método <code>groupBy</code> agrupa los elementos de la colección con una clave determinada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'account-x10'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'account-x10'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'account-x11'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$grouped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'account_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$grouped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'account-x10' =&gt; [
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Chair'],
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Bookcase'],
        ],
        'account-x11' =&gt; [
            ['account_id' =&gt; 'account-x11', 'product' =&gt; 'Desk'],
        ],
    ]
*/</span>
</code></pre></div><p>Además de pasar una clave, también puedes pasar una función de retorno (callback). La función de retorno debe devolver el valor de la clave por la que deseas agrupar:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$grouped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$grouped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'x10' =&gt; [
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Chair'],
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Bookcase'],
        ],
        'x11' =&gt; [
            ['account_id' =&gt; 'account-x11', 'product' =&gt; 'Desk'],
        ],
    ]
*/</span>
</code></pre></div><p>Además de pasar una clave, también puedes pasar una función de retorno (callback). La función de retorno debe devolver el valor de la clave por la que deseas agrupar:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">10</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'skill'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'roles'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Role_1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Role_3'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">20</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'skill'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'roles'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Role_1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Role_2'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">30</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'skill'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'roles'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Role_1'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">40</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'skill'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'roles'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Role_2'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'skill'</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'roles'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$preserveKeys</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
[
    1 =&gt; [
        'Role_1' =&gt; [
            10 =&gt; ['user' =&gt; 1, 'skill' =&gt; 1, 'roles' =&gt; ['Role_1', 'Role_3']],
            20 =&gt; ['user' =&gt; 2, 'skill' =&gt; 1, 'roles' =&gt; ['Role_1', 'Role_2']],
        ],
        'Role_2' =&gt; [
            20 =&gt; ['user' =&gt; 2, 'skill' =&gt; 1, 'roles' =&gt; ['Role_1', 'Role_2']],
        ],
        'Role_3' =&gt; [
            10 =&gt; ['user' =&gt; 1, 'skill' =&gt; 1, 'roles' =&gt; ['Role_1', 'Role_3']],
        ],
    ],
    2 =&gt; [
        'Role_1' =&gt; [
            30 =&gt; ['user' =&gt; 3, 'skill' =&gt; 2, 'roles' =&gt; ['Role_1']],
        ],
        'Role_2' =&gt; [
            40 =&gt; ['user' =&gt; 4, 'skill' =&gt; 2, 'roles' =&gt; ['Role_2']],
        ],
    ],
];
*/</span>
</code></pre></div><p><a name="method-has"></a></p> <h4 id="has-collection-method"><a href="#has-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>has()</code> {#collection-method}</h4> <p>El método <code>has</code> determina si existe una clave dada en la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'amount'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// true</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'amount'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// true</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'amount'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p><a name="method-implode"></a></p> <h4 id="implode-collection-method"><a href="#implode-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>implode()</code> {#collection-method}</h4> <p>El método <code>implode</code> une a los elementos de una colección. Sus argumentos dependen del tipo de elemento en la colección. Si la colección contiene arreglos u objetos, debes pasar la clave de los atributos que deseas unir y la cadena que deseas colocar entre los valores:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'account_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">implode</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">', '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Desk, Chair</span>
</code></pre></div><p>Si la colección contiene cadenas simples o valores numéricos, pasa el separador como único argumento para el método:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">implode</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// '1-2-3-4-5'</span>
</code></pre></div><p><a name="method-intersect"></a></p> <h4 id="intersect-collection-method"><a href="#intersect-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>intersect()</code> {#collection-method}</h4> <p>El método <code>intersect</code> elimina cualquier valor de la colección original que no esté presente en el arreglo o colección dada. La colección resultante conservará las claves de la colección original:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Sofa'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$intersect</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">intersect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$intersect</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [0 =&gt; 'Desk', 2 =&gt; 'Chair']</span>
</code></pre></div><p><a name="method-intersectbykeys"></a></p> <h4 id="intersectbykeys-collection-method"><a href="#intersectbykeys-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>intersectByKeys()</code> {#collection-method}</h4> <p>El método <code>intersectByKeys</code> elimina cualquier clave de la colección original que no esté presente en el arreglo o colección dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'serial'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'UX301'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'screen'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'year'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2009</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$intersect</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">intersectByKeys</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'reference'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'UX404'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'tab'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'year'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2011</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$intersect</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['type' =&gt; 'screen', 'year' =&gt; 2009]</span>
</code></pre></div><p><a name="method-isempty"></a></p> <h4 id="isempty-collection-method"><a href="#isempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>isEmpty()</code> {#collection-method}</h4> <p>El método <code>isEmpty</code> devuelve<code>true</code> si la colección está vacía; de lo contrario, se devuelve <code>false</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// true</span>
</code></pre></div><p><a name="method-isnotempty"></a></p> <h4 id="isnotempty-collection-method"><a href="#isnotempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>isNotEmpty()</code> {#collection-method}</h4> <p>El método <code>isNotEmpty</code> devuelve <code>true</code> si la colección no está vacía; de lo contrario, se devuelve <code>false</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p><a name="method-join"></a></p> <h4 id="join-collection-method"><a href="#join-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>join()</code> {#collection-method}</h4> <p>El método <code>join</code> une los valores de la colección con una cadena:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">', '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a, b, c'</span>
<span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">', '</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">', and '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a, b, and c'</span>
<span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">', '</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">' and '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a and b'</span>
<span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">', '</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">' and '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a'</span>
<span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">', '</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">' and '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
</code></pre></div><p><a name="method-keyby"></a></p> <h4 id="keyby-collection-method"><a href="#keyby-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>keyBy()</code> {#collection-method}</h4> <p>El método <code>keyBy</code> agrupa una colección por claves indicando una clave como párametro. Si varios elementos tienen la misma clave, solo el último aparecerá en la nueva colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-100'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-200'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keyed</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keyBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keyed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'prod-100' =&gt; ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
        'prod-200' =&gt; ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
    ]
*/</span>
</code></pre></div><p>También puedes pasar una función de retorno (callback) al método. La función debe devolver el valor de la clave de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$keyed</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keyBy</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keyed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'PROD-100' =&gt; ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
        'PROD-200' =&gt; ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
    ]
*/</span>
</code></pre></div><p><a name="method-keys"></a></p> <h4 id="keys-collection-method"><a href="#keys-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>keys()</code> {#collection-method}</h4> <p>El método <code>keys</code> devuelve todas las claves de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'prod-100'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-100'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'prod-200'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-200'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keys</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keys</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['prod-100', 'prod-200']</span>
</code></pre></div><p><a name="method-last"></a></p> <h4 id="last-collection-method"><a href="#last-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>last()</code> {#collection-method}</h4> <p>El método <code>last</code> devuelve el último elemento de la colección que pasa una condición dentro de una función de retorno (callback):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2</span>
</code></pre></div><p>También puedes llamar al método <code>last</code> sin parámetros para obtener el último elemento de la colección. Si la colección está vacía, se devuelve <code>null</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4</span>
</code></pre></div><p><a name="method-macro"></a></p> <h4 id="macro-collection-method"><a href="#macro-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>macro()</code> {#collection-method}</h4> <p>El método estático <code>macro</code> te permite agregar métodos a la clase <code>Collection</code> en tiempo de ejecución. Consulta la documentación en <a href="#extending-collections">Extendiendo Colecciones</a> para mas información.</p> <p><a name="method-make"></a></p> <h4 id="make-collection-method"><a href="#make-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>make()</code> {#collection-method}</h4> <p>El método estático <code>make</code> crea una nueva instancia de <code>Collection</code>. Más información en la sección de <a href="#creating-collections">Creando Colecciones</a>.</p> <p><a name="method-map"></a></p> <h4 id="map-collection-method"><a href="#map-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>map()</code> {#collection-method}</h4> <p>El método <code>map</code> itera a través de la colección y pasa cada valor a una función de retorno. La función de retorno es libre de modificar el elemento y devolverlo, formando así una nueva colección de elementos modificados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$multiplied</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$multiplied</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [2, 4, 6, 8, 10]</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Como la mayoría de los otros métodos de colecciones, <code>map</code> devuelve una nueva instancia de colección; no modifica la colección a la que se llama. Si quieres transformar la colección original, usa el método <a href="#method-transform"><code>transform</code></a>.</p></div> <p><a name="method-mapinto"></a></p> <h4 id="mapinto-collection-method"><a href="#mapinto-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>mapInto()</code> {#collection-method}</h4> <p>El método <code>mapInto()</code> itera sobre la colección, creando una nueva instancia de la clase dada pasando el valor al constructor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">Currency</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Create a new currency instance.
    *
    * @param  string  $code
    * @return void
    */</span>
    <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span>string <span class="token variable">$code</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">code</span> <span class="token operator">=</span> <span class="token variable">$code</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'USD'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'EUR'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'GBP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$currencies</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mapInto</span><span class="token punctuation">(</span>Currency<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$currencies</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [Currency('USD'), Currency('EUR'), Currency('GBP')]</span>
</code></pre></div><p><a name="method-mapspread"></a></p> <h4 id="mapspread-collection-method"><a href="#mapspread-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>mapSpread()</code> {#collection-method}</h4> <p>El método <code>mapSpread</code> itera sobre los elementos de la colección, pasando cada valor de elemento anidado a la función de retorno pasada como parámetro. La función de retorno es libre de modificar el elemento y devolverlo, formando así una nueva colección de elementos modificados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunks</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">chunk</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sequence</span> <span class="token operator">=</span> <span class="token variable">$chunks</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mapSpread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$even</span><span class="token punctuation">,</span> <span class="token variable">$odd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$even</span> <span class="token operator">+</span> <span class="token variable">$odd</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sequence</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 5, 9, 13, 17]</span>
</code></pre></div><p><a name="method-maptogroups"></a></p> <h4 id="maptogroups-collection-method"><a href="#maptogroups-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>mapToGroups()</code> {#collection-method}</h4> <p>El método <code>mapToGroups</code> agrupa los elementos de la colección por la función de retorno dada. La función de retorno debería devolver un arreglo asociativo que contenga una única clave / valor, formando así una nueva colección de valores agrupados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'department'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Sales'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Jane Doe'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'department'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Sales'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Johnny Doe'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'department'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Marketing'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$grouped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mapToGroups</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'department'</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$grouped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'Sales' =&gt; ['John Doe', 'Jane Doe'],
        'Marketing' =&gt; ['Johnny Doe'],
    ]
*/</span>

<span class="token variable">$grouped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Sales'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe', 'Jane Doe']</span>
</code></pre></div><p><a name="method-mapwithkeys"></a></p> <h4 id="mapwithkeys-collection-method"><a href="#mapwithkeys-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>mapWithKeys()</code> {#collection-method}</h4> <p>El método <code>mapWithKeys</code> itera a través de la colección y pasa cada valor a la función de retorno dada. La función de retorno debe devolver un arreglo asociativo que contiene una unica clave / valor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'John'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'department'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Sales'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'john@example.com'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Jane'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'department'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Marketing'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'jane@example.com'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keyed</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mapWithKeys</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$keyed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'john@example.com' =&gt; 'John',
        'jane@example.com' =&gt; 'Jane',
    ]
*/</span>
</code></pre></div><p><a name="method-max"></a></p> <h4 id="max-collection-method"><a href="#max-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>max()</code> {#collection-method}</h4> <p>El método <code>max</code> devuelve el valor máximo de una clave determinada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$max</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 20</span>

<span class="token variable">$max</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 5</span>
</code></pre></div><p><a name="method-median"></a></p> <h4 id="median-collection-method"><a href="#median-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>median()</code> {#collection-method}</h4> <p>El método <code>median</code> devuelve el <a href="https://en.wikipedia.org/wiki/Median" target="_blank" rel="noopener noreferrer">valor medio<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> de una clave dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$median</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 15</span>

<span class="token variable">$median</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1.5</span>
</code></pre></div><p><a name="method-merge"></a></p> <h4 id="merge-collection-method"><a href="#merge-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>merge()</code> {#collection-method}</h4> <p>El método <code>merge</code> combina el arreglo o colección dada con la colección original. Si una clave en los elementos dados coincide con una clave de la colección original, el valor de los elementos dados sobrescribirá el valor en la colección original:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$merged</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'discount'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$merged</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['product_id' =&gt; 1, 'price' =&gt; 200, 'discount' =&gt; false]</span>
</code></pre></div><p>Si las llaves de los elementos son numéricas, los valores se agregarán al final de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$merged</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$merged</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['Desk', 'Chair', 'Bookcase', 'Door']</span>
</code></pre></div><p><a name="method-min"></a></p> <h4 id="min-collection-method"><a href="#min-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>min()</code> {#collection-method}</h4> <p>El método <code>min</code> devuelve el valor mínimo de una llave determinada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$min</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 10</span>

<span class="token variable">$min</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1</span>
</code></pre></div><p><a name="method-mode"></a></p> <h4 id="mode-collection-method"><a href="#mode-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>mode()</code> {#collection-method}</h4> <p>El método <code>mode</code> devuelve el <a href="https://en.wikipedia.org/wiki/Mode_(statistics)" target="_blank" rel="noopener noreferrer">valor moda<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> de una clave dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mode</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mode</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [10]</span>

<span class="token variable">$mode</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1]</span>
</code></pre></div><p><a name="method-nth"></a></p> <h4 id="nth-collection-method"><a href="#nth-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>nth()</code> {#collection-method}</h4> <p>El método <code>nth</code> crea una nueva colección que consiste en cada elemento n-ésimo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'c'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'d'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'e'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">nth</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['a', 'e']</span>
</code></pre></div><p>Opcionalmente puedes pasar un desplazamiento como segundo argumento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">nth</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['b', 'f']</span>
</code></pre></div><p><a name="method-only"></a></p> <h4 id="only-collection-method"><a href="#only-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>only()</code> {#collection-method}</h4> <p>El método <code>only</code> devuelve los elementos de la colección con las claves especificadas:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'discount'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">only</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['product_id' =&gt; 1, 'name' =&gt; 'Desk']</span>
</code></pre></div><p>Para hacer lo inverso a <code>only</code>, usa el método <a href="#method-except">except</a>.</p> <p><a name="method-pad"></a></p> <h4 id="pad-collection-method"><a href="#pad-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>pad()</code> {#collection-method}</h4> <p>El método <code>pad</code> llenará el arreglo con el valor dado hasta que el arreglo alcance el tamaño especificado. Este método se comporta como la función <a href="https://secure.php.net/manual/en/function.array-pad.php" target="_blank" rel="noopener noreferrer">array_pad<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> de PHP.</p> <p>Para rellenar a la izquierda, debes especificar un tamaño negativo. No se realizará ningún relleno si el valor absoluto del tamaño dado es menor o igual que la longitud del arreglo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'A'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'B'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pad</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['A', 'B', 'C', 0, 0]</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pad</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [0, 0, 'A', 'B', 'C']</span>
</code></pre></div><p><a name="method-partition"></a></p> <h4 id="partition-collection-method"><a href="#partition-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>partition()</code> {#collection-method}</h4> <p>El método <code>partition</code> se puede combinar con la función PHP <code>list</code> para separar los elementos que pasan una comprobación dada de aquellos que no lo hacen:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">list</span><span class="token punctuation">(</span><span class="token variable">$underThree</span><span class="token punctuation">,</span> <span class="token variable">$equalOrAboveThree</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">partition</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$underThree</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2]</span>

<span class="token variable">$equalOrAboveThree</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3, 4, 5, 6]</span>
</code></pre></div><p><a name="method-pipe"></a></p> <h4 id="pipe-collection-method"><a href="#pipe-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>pipe()</code> {#collection-method}</h4> <p>El método <code>pipe</code> pasa la colección a una función de retorno y devuelve el resultado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$piped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 6</span>
</code></pre></div><p><a name="method-pluck"></a></p> <h4 id="pluck-collection-method"><a href="#pluck-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>pluck()</code> {#collection-method}</h4> <p>El método <code>pluck</code> recupera todos los valores para una llave dada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-100'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-200'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$plucked</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$plucked</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['Desk', 'Chair']</span>
</code></pre></div><p>También puedes especificar cómo deseas que se coloquen las llaves:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$plucked</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'product_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$plucked</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['prod-100' =&gt; 'Desk', 'prod-200' =&gt; 'Chair']</span>
</code></pre></div><p>Si existen llaves duplicadas, el último elemento que coincida será insertado en la colección recuperada:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Tesla'</span><span class="token punctuation">,</span>  <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'red'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Pagani'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'white'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Tesla'</span><span class="token punctuation">,</span>  <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'black'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Pagani'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'color'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'orange'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$plucked</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'color'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$plucked</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['Tesla' =&gt; 'black', 'Pagani' =&gt; 'orange']</span>
</code></pre></div><p><a name="method-pop"></a></p> <h4 id="pop-collection-method"><a href="#pop-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>pop()</code> {#collection-method}</h4> <p>El método <code>pop</code> elimina y devuelve el último elemento de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 5</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4]</span>
</code></pre></div><p><a name="method-prepend"></a></p> <h4 id="prepend-collection-method"><a href="#prepend-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>prepend()</code> {#collection-method}</h4> <p>El método <code>prepend</code> agrega un elemento al comienzo de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [0, 1, 2, 3, 4, 5]</span>
</code></pre></div><p>También puedes pasar un segundo argumento para establecer la clave del elemento antepuesto:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'one'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'two'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'zero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['zero' =&gt; 0, 'one' =&gt; 1, 'two' =&gt; 2]</span>
</code></pre></div><p><a name="method-pull"></a></p> <h4 id="pull-collection-method"><a href="#pull-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>pull()</code> {#collection-method}</h4> <p>El método <code>pull</code> elimina y devuelve un elemento de la colección por su clave:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'prod-100'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 'Desk'</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['product_id' =&gt; 'prod-100']</span>
</code></pre></div><p><a name="method-push"></a></p> <h4 id="push-collection-method"><a href="#push-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>push()</code> {#collection-method}</h4> <p>El método <code>push</code> agrega un elemento al final de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre></div><p><a name="method-put"></a></p> <h4 id="put-collection-method"><a href="#put-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>put()</code> {#collection-method}</h4> <p>El método <code>put</code> establece la clave y el valor dado en la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'product_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['product_id' =&gt; 1, 'name' =&gt; 'Desk', 'price' =&gt; 100]</span>
</code></pre></div><p><a name="method-random"></a></p> <h4 id="random-collection-method"><a href="#random-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>random()</code> {#collection-method}</h4> <p>El método <code>random</code> devuelve un elemento aleatorio de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4 - (retrieved randomly)</span>
</code></pre></div><p>Opcionalmente, puedes pasar un número entero a <code>random</code> para especificar cuántos elementos deseas recuperar al azar. Siempre se devuelve una colección de valores cuando se pasa explícitamente la cantidad de valores que deseas recibir:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$random</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$random</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [2, 4, 5] - (retrieved randomly)</span>
</code></pre></div><p>Si la colección tiene un númeno menor de elementos al solicitado, el método arrojará un <code>InvalidArgumentException</code>.</p> <p><a name="method-reduce"></a></p> <h4 id="reduce-collection-method"><a href="#reduce-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>reduce()</code> {#collection-method}</h4> <p>El método <code>reduce</code> reduce la colección a un solo valor, pasando el resultado de cada iteración a la iteración siguiente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$total</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$carry</span><span class="token punctuation">,</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$carry</span> <span class="token operator">+</span> <span class="token variable">$item</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 6</span>
</code></pre></div><p>El valor de <code>$carry</code> en la primera iteración es <code>null</code>; sin embargo, puedes especificar su valor inicial pasando un segundo argumento a reducir:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$carry</span><span class="token punctuation">,</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$carry</span> <span class="token operator">+</span> <span class="token variable">$item</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 10</span>
</code></pre></div><p><a name="method-reject"></a></p> <h4 id="reject-collection-method"><a href="#reject-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>reject()</code> {#collection-method}</h4> <p>El método <code>reject</code> filtra la colección usando una función de retorno. La función de retorno debe devolver <code>true</code> si el elemento debe eliminarse de la colección resultante:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$value</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2]</span>
</code></pre></div><p>Para el inverso del método <code>reject</code>, ve el método <a href="#method-filter"><code>filter</code></a>.</p> <p><a name="method-reverse"></a></p> <h4 id="reverse-collection-method"><a href="#reverse-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>reverse()</code> {#collection-method}</h4> <p>El método <code>reverse</code> invierte el orden de los elementos de la colección, conservando las claves originales:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'b'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'c'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'d'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'e'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$reversed</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$reversed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        4 =&gt; 'e',
        3 =&gt; 'd',
        2 =&gt; 'c',
        1 =&gt; 'b',
        0 =&gt; 'a',
    ]
*/</span>
</code></pre></div><p><a name="method-search"></a></p> <h4 id="search-collection-method"><a href="#search-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>search()</code> {#collection-method}</h4> <p>El método <code>search</code> busca en la colección el valor dado y devuelve su clave si se encuentra. Si el valor no se encuentra, se devuelve <code>false</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1</span>
</code></pre></div><p>La búsqueda se realiza usando una comparación &quot;flexible&quot; (loose), lo que significa que una cadena con un valor entero se considerará igual a un número entero del mismo valor. Para usar una comparación &quot;estricta&quot;, pasa <code>true</code> como segundo parámetro del método:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'4'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// false</span>
</code></pre></div><p>Alternativamente, puedes pasar tu propia función de retorno para buscar el primer elemento que pase la validación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2</span>
</code></pre></div><p><a name="method-shift"></a></p> <h4 id="shift-collection-method"><a href="#shift-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>shift()</code> {#collection-method}</h4> <p>El método <code>shift</code> elimina y devuelve el primer elemento de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [2, 3, 4, 5]</span>
</code></pre></div><p><a name="method-shuffle"></a></p> <h4 id="shuffle-collection-method"><a href="#shuffle-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>shuffle()</code> {#collection-method}</h4> <p>El método <code>shuffle</code> mezcla aleatoriamente los elementos en la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$shuffled</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$shuffled</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3, 2, 5, 1, 4] - (generated randomly)</span>
</code></pre></div><p><a name="method-slice"></a></p> <h4 id="slice-collection-method"><a href="#slice-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>slice()</code> {#collection-method}</h4> <p>El método <code>slice</code> devuelve una porción de la colección que comienza en el índice pasado como parámetro:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$slice</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$slice</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [5, 6, 7, 8, 9, 10]</span>
</code></pre></div><p>Si deseas limitar el tamaño de la porción devuelta, pase el tamaño deseado como segundo argumento para el método:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$slice</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$slice</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [5, 6]</span>
</code></pre></div><p>El segmento devuelto conservará las claves de forma predeterminada. Si no deseas conservar las claves originales, puedes usar el método <a href="#method-values"><code>values</code></a> para volverlos a indexar.</p> <p><a name="method-some"></a></p> <h4 id="some-collection-method"><a href="#some-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>some()</code> {#collection-method}</h4> <p>Alias para el método <a href="#method-contains"><code>contains</code></a>.</p> <p><a name="method-sort"></a></p> <h4 id="sort-collection-method"><a href="#sort-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sort()</code> {#collection-method}</h4> <p>El método <code>sort</code> ordena la colección. La colección ordenada conserva las claves del arreglo original, por lo que en este ejemplo utilizaremos el método <a href="#method-values"><code>values</code></a> para restablecer las claves de los índices numerados consecutivamente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre></div><p>Si tus necesidades de ordenamiento son más avanzadas, puedes pasar una funión de retorno a <code>sort</code> con tu propio algoritmo. Consulta la documentación de PHP en <a href="https://secure.php.net/manual/en/function.uasort.php#refsect1-function.uasort-parameters" target="_blank" rel="noopener noreferrer"><code>uasort</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, que es lo que llama el método <code>sort</code> de la colección.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Si necesitas ordenar una colección de matrices u objetos anidados, consulta los métodos <a href="#method-sortby"><code>sortBy</code></a> y <a href="#method-sortbydesc"><code>sortByDesc</code></a>.</p></div> <p><a name="method-sortby"></a></p> <h4 id="sortby-collection-method"><a href="#sortby-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sortBy()</code> {#collection-method}</h4> <p>El método <code>sortBy</code> ordena la colección con la clave dada. La colección ordenada conserva las claves del arreglo original, por lo que en este ejemplo utilizaremos el método <a href="#method-values"><code>values</code></a> para restablecer las claves de los índices numerados consecutivamente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sortBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'Chair', 'price' =&gt; 100],
        ['name' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['name' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/</span>
</code></pre></div><p>Puedes también pasar tu propia función de retorno para determinar como ordenar los valores de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Black'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Mahogany'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Black'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Red'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Beige'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Brown'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sortBy</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$product</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$product</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'colors'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'Chair', 'colors' =&gt; ['Black']],
        ['name' =&gt; 'Desk', 'colors' =&gt; ['Black', 'Mahogany']],
        ['name' =&gt; 'Bookcase', 'colors' =&gt; ['Red', 'Beige', 'Brown']],
    ]
*/</span>
</code></pre></div><p><a name="method-sortbydesc"></a></p> <h4 id="sortbydesc-collection-method"><a href="#sortbydesc-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sortByDesc()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-sortby"><code>sortBy</code></a>, pero ordenará la colección en el orden opuesto.</p> <p><a name="method-sortkeys"></a></p> <h4 id="sortkeys-collection-method"><a href="#sortkeys-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sortKeys()</code> {#collection-method}</h4> <p>The <code>sortKeys</code> method ordena la colección por las llaves del arrelgo asociativo subyacente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">22345</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'first'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'John'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'last'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Doe'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sortKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$sorted</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        'first' =&gt; 'John',
        'id' =&gt; 22345,
        'last' =&gt; 'Doe',
    ]
*/</span>
</code></pre></div><p><a name="method-sortkeysdesc"></a></p> <h4 id="sortkeysdesc-collection-method"><a href="#sortkeysdesc-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sortKeysDesc()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-sortkeys"><code>sortKeys</code></a>, pero ordenará la colección en el orden opuesto.</p> <p><a name="method-splice"></a></p> <h4 id="splice-collection-method"><a href="#splice-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>splice()</code> {#collection-method}</h4> <p>El método <code>splice</code> elimina y devuelve una porción de elementos comenzando en el índice especificado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3, 4, 5]</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2]</span>
</code></pre></div><p>Puedes pasar un segundo parámetro para limitar el tamaño del fragmento resultante:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3]</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 4, 5]</span>
</code></pre></div><p>Además, puedes pasar un tercer parámetro que contenga los nuevos elementos para reemplazar los elementos eliminados de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [3]</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 10, 11, 4, 5]</span>
</code></pre></div><p><a name="method-split"></a></p> <h4 id="split-collection-method"><a href="#split-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>split()</code> {#collection-method}</h4> <p>El método <code>split</code> divide una colección en el número de grupos dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$groups</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$groups</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [[1, 2], [3, 4], [5]]</span>
</code></pre></div><p><a name="method-sum"></a></p> <h4 id="sum-collection-method"><a href="#sum-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>sum()</code> {#collection-method}</h4> <p>El método <code>sum</code> devuelve la suma de todos los elementos de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 15</span>
</code></pre></div><p>Si la colección contiene arreglos u objetos anidados, debes pasar una clave para determinar qué valores sumar:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'JavaScript: The Good Parts'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'pages'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">176</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'JavaScript: The Definitive Guide'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'pages'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1096</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'pages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1272</span>
</code></pre></div><p>Además, puedes pasar una función de retorno para determinar qué valores de la colección sumar:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Black'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Black'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Mahogany'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'colors'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'Red'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Beige'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Brown'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$product</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$product</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'colors'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 6</span>
</code></pre></div><p><a name="method-take"></a></p> <h4 id="take-collection-method"><a href="#take-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>take()</code> {#collection-method}</h4> <p>El método <code>take</code> devuelve una nueva colección con el número especificado de elementos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [0, 1, 2]</span>
</code></pre></div><p>También puedes pasar un número entero negativo para tomar la cantidad especificada de elementos del final de la colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$chunk</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [4, 5]</span>
</code></pre></div><p><a name="method-tap"></a></p> <h4 id="tap-collection-method"><a href="#tap-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>tap()</code> {#collection-method}</h4> <p>El método <code>tap</code> pasa la colección a la función de retorno dada, lo que te permite &quot;aprovechar&quot; la colección en un punto específico y hacer algo con los elementos sin afectar a la propia colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Values after sorting'</span><span class="token punctuation">,</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1</span>
</code></pre></div><p><a name="method-times"></a></p> <h4 id="times-collection-method"><a href="#times-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>times()</code> {#collection-method}</h4> <p>El método estático <code>times</code> crea una nueva colección invocando una función de retorno y la cantidad determinada de veces:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$number</span> <span class="token operator">*</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [9, 18, 27, 36, 45, 54, 63, 72, 81, 90]</span>
</code></pre></div><p>Este método puede ser útil cuando se combina con Factories para crear modelos <a href="/docs/%7B%7Bversion%7D%7D/eloquent">Eloquent</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$categories</span> <span class="token operator">=</span> Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">factory</span><span class="token punctuation">(</span>Category<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token double-quoted-string string">&quot;Category No. <span class="token interpolation"><span class="token variable">$number</span></span>&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$categories</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['id' =&gt; 1, 'name' =&gt; 'Category #1'],
        ['id' =&gt; 2, 'name' =&gt; 'Category #2'],
        ['id' =&gt; 3, 'name' =&gt; 'Category #3'],
    ]
*/</span>
</code></pre></div><p><a name="method-toarray"></a></p> <h4 id="toarray-collection-method"><a href="#toarray-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>toArray()</code> {#collection-method}</h4> <p>El método <code>toArray</code> convierte la colección en un simple <code>array</code> de PHP. Si los valores de la colección son modelos <a href="/docs/%7B%7Bversion%7D%7D/eloquent">Eloquent</a>, los modelos también se convertirán en arreglos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p><code>toArray</code> también convierte todos los objetos anidados de la colección que son una instancia de <code>Arrayable</code> en un arreglo. En cambio, si deseas obtener el arreglo subyacente sin procesar, usa el método <a href="#method-all"><code>all</code></a>.</p></div> <p><a name="method-tojson"></a></p> <h4 id="tojson-collection-method"><a href="#tojson-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>toJson()</code> {#collection-method}</h4> <p>El método <code>toJson</code> convierte la colección en una cadena serializada JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// '{&quot;name&quot;:&quot;Desk&quot;, &quot;price&quot;:200}'</span>
</code></pre></div><p><a name="method-transform"></a></p> <h4 id="transform-collection-method"><a href="#transform-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>transform()</code> {#collection-method}</h4> <p>El método <code>transform</code> itera sobre la colección y llama a la función de retorno dada con cada elemento de la colección. Los elementos en la colección serán reemplazados por los valores devueltos de la función de retorno:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [2, 4, 6, 8, 10]</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>A diferencia de la mayoría de otros métodos de las colecciones, <code>transform</code> modifica la colección en sí. Si deseas crear una nueva colección en su lugar, usa el método <a href="#method-map"><code>map</code></a>.</p></div> <p><a name="method-union"></a></p> <h4 id="union-collection-method"><a href="#union-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>union()</code> {#collection-method}</h4> <p>El método <code>union</code> agrega el arreglo dado a la colección. Si el arreglo contiene claves que ya están en la colección original, se preferirán los valores de la colección original:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$union</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$union</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1 =&gt; ['a'], 2 =&gt; ['b'], 3 =&gt; ['c']]</span>
</code></pre></div><p><a name="method-unique"></a></p> <h4 id="unique-collection-method"><a href="#unique-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>unique()</code> {#collection-method}</h4> <p>El método <code>unique</code> devuelve todos los elementos únicos en la colección. La colección devuelta conserva las claves del arreglo original, por lo que en este ejemplo utilizaremos el método <a href="#method-values"><code>values</code></a> para restablecer las llaves de los índices numerados consecutivamente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$unique</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$unique</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4]</span>
</code></pre></div><p>Al tratar con arreglos u objetos anidados, puedes especificar la clave utilizada para determinar la singularidad:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'iPhone 6'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Apple'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'phone'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'iPhone 5'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Apple'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'phone'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Apple Watch'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Apple'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'watch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Galaxy S6'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Samsung'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'phone'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Galaxy Gear'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'brand'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Samsung'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'watch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$unique</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'brand'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$unique</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
    ]
*/</span>
</code></pre></div><p>También puedes pasar una función de retorno para determinar la singularidad del elemento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$unique</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'brand'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$unique</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Apple Watch', 'brand' =&gt; 'Apple', 'type' =&gt; 'watch'],
        ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Galaxy Gear', 'brand' =&gt; 'Samsung', 'type' =&gt; 'watch'],
    ]
*/</span>
</code></pre></div><p>El método <code>unique</code> utiliza comparaciones &quot;flexibles&quot; (loose) al verificar valores de elementos, lo que significa que una cadena con un valor entero se considerará igual a un entero del mismo valor. Usa el método <a href="#method-uniquestrict"><code>uniqueStrict</code></a> para filtrar usando una comparación &quot;estricta&quot;.</p> <p><a name="method-uniquestrict"></a></p> <h4 id="uniquestrict-collection-method"><a href="#uniquestrict-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>uniqueStrict()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-unique"><code>unique</code></a>; sin embargo, todos los valores se comparan utilizando comparaciones &quot;estrictas&quot;.</p> <p><a name="method-unless"></a></p> <h4 id="unless-collection-method"><a href="#unless-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>unless()</code> {#collection-method}</h4> <p>El método <code>unless</code> ejecutará una función de retorno a menos que el primer argumento dado al método se evalúe como <code>true</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unless</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unless</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 5]</span>
</code></pre></div><p>Para hacer lo inverso a <code>unless</code>, usa el método <a href="#method-when"><code>when</code></a>.</p> <p><a name="method-unlessempty"></a></p> <h4 id="unlessempty-collection-method"><a href="#unlessempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>unlessEmpty()</code> {#collection-method}</h4> <p>Alias para el método <a href="#method-whennotempty"><code>whenNotEmpty</code></a>.</p> <p><a name="method-unlessnotempty"></a></p> <h4 id="unlessnotempty-collection-method"><a href="#unlessnotempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>unlessNotEmpty()</code> {#collection-method}</h4> <p>Alias para el método <a href="#method-whenempty"><code>whenEmpty</code></a>.</p> <p><a name="method-unwrap"></a></p> <h4 id="unwrap-collection-method"><a href="#unwrap-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>unwrap()</code> {#collection-method}</h4> <p>El método estático <code>unwrap</code> devuelve los elementos subyacentes de la colección del valor dado cuando corresponda:</p> <div class="language-php extra-class"><pre class="language-php"><code>Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe']</span>

Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe']</span>

Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 'John Doe'</span>
</code></pre></div><p><a name="method-values"></a></p> <h4 id="values-collection-method"><a href="#values-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>values()</code> {#collection-method}</h4> <p>El método <code>values</code> devuelve una nueva colección con las claves restablecidas en enteros consecutivos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">10</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">11</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$values</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$values</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        0 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
        1 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/</span>
</code></pre></div><p><a name="method-when"></a></p> <h4 id="when-collection-method"><a href="#when-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>when()</code> {#collection-method}</h4> <p>El método <code>when</code> ejecutará una función de retorno cuando el primer argumento dado al método se evalúa como <code>true</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 2, 3, 4]</span>
</code></pre></div><p>Para hacer lo inverso a <code>when</code>, usa el método <a href="#method-unless"><code>unless</code></a>.</p> <p><a name="method-whenempty"></a></p> <h4 id="whenempty-collection-method"><a href="#whenempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whenEmpty()</code> {#collection-method}</h4> <p>El método <code>whenEmpty</code> ejecutará la función de retorno dada cuando la colección esté vacía:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'michael'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tom'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['michael', 'tom']</span>


<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['adam']</span>


<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'michael'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tom'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['michael', 'tom', 'taylor']</span>
</code></pre></div><p>Para el inverso de <code>whenEmpty</code>, ve el método <a href="#method-whennotempty"><code>whenNotEmpty</code></a>.</p> <p><a name="method-whennotempty"></a></p> <h4 id="whennotempty-collection-method"><a href="#whennotempty-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whenNotEmpty()</code> {#collection-method}</h4> <p>El método <code>whenNotEmpty</code> ejecutará la función de retorno dada cuando la colección no esté vacía:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'michael'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tom'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenNotEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['michael', 'tom', 'adam']</span>


<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenNotEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// []</span>


<span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whenNotEmpty</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'taylor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['taylor']</span>
</code></pre></div><p>Para el inverso de <code>whenNotEmpty</code>, ve el método <a href="#method-whenempty"><code>whenEmpty</code></a>.</p> <p><a name="method-where"></a></p> <h4 id="where-collection-method"><a href="#where-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>where()</code> {#collection-method}</h4> <p>El método <code>where</code> filtra la colección por clave y valor pasados como parámetros:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]
*/</span>
</code></pre></div><p>El método <code>where</code> usa comparaciones &quot;flexibles&quot; (loose) al verificar valores de elementos, lo que significa que una cadena con un valor entero se considerará igual a un entero del mismo valor. Usa el método <a href="#method-wherestrict"><code>whereStrict</code></a> para hacer comparaciones &quot;estrictas&quot;.</p> <p><a name="method-wherestrict"></a></p> <h4 id="wherestrict-collection-method"><a href="#wherestrict-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereStrict()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-where"><code>where</code></a>; sin embargo, todos los valores se comparan utilizando comparaciones &quot;estrictas&quot;.</p> <p><a name="method-wherebetween"></a></p> <h4 id="wherebetween-collection-method"><a href="#wherebetween-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereBetween()</code> {#collection-method}</h4> <p>El método <code>whereBetween</code> filtra la colección dentro de un rango dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Pencil'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whereBetween</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]
*/</span>
</code></pre></div><p><a name="method-wherein"></a></p> <h4 id="wherein-collection-method"><a href="#wherein-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereIn()</code> {#collection-method}</h4> <p>El método <code>whereIn</code> filtra la colección por una clave / valor contenida dentro del arreglo dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whereIn</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/</span>
</code></pre></div><p>El método <code>whereIn</code> usa comparaciones &quot;flexibles&quot; (loose) al verificar valores de elementos, lo que significa que una cadena con un valor entero se considerará igual a un número entero del mismo valor. Usa el método  <a href="#method-whereinstrict"><code>whereInStrict</code></a> para hacer comparaciones &quot;estrictas&quot;.</p> <p><a name="method-whereinstrict"></a></p> <h4 id="whereinstrict-collection-method"><a href="#whereinstrict-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereInStrict()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-wherein"><code>whereIn</code></a>; sin embargo, todos los valores se comparan utilizando comparaciones &quot;estrictas&quot;.</p> <p><a name="method-whereinstanceof"></a></p> <h4 id="whereinstanceof-collection-method"><a href="#whereinstanceof-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereInstanceOf()</code> {#collection-method}</h4> <p>El método <code>whereInstanceOf</code> filtra la colección por un tipo de clase dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Post</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whereInstanceOf</span><span class="token punctuation">(</span>User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="method-wherenotbetween"></a></p> <h4 id="wherenotbetween-collection-method"><a href="#wherenotbetween-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereNotBetween()</code> {#collection-method}</h4> <p>El método <code>whereNotBetween</code> filtra la colección fuera de un rango dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Pencil'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whereNotBetween</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['product' =&gt; 'Chair', 'price' =&gt; 80],
        ['product' =&gt; 'Pencil', 'price' =&gt; 30],
    ]
*/</span>
</code></pre></div><p><a name="method-wherenotin"></a></p> <h4 id="wherenotin-collection-method"><a href="#wherenotin-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereNotIn()</code> {#collection-method}</h4> <p>El método <code>whereNotIn</code> filtra la colección por una clave / valor que no está contenida dentro del arreglo dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Bookcase'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'product'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Door'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'price'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">whereNotIn</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'price'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$filtered</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    [
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]
*/</span>
</code></pre></div><p>El método <code>whereNotIn</code> utiliza comparaciones &quot;flexibles&quot; (loose) cuando se comprueban los valores de los elementos, lo que significa que una cadena con un valor entero se considerará igual a un número entero del mismo valor. Usa el método <a href="#method-wherenotinstrict"><code>whereNotInStrict</code></a> para hacer comparaciones &quot;estrictas&quot;.</p> <p><a name="method-wherenotinstrict"></a></p> <h4 id="wherenotinstrict-collection-method"><a href="#wherenotinstrict-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>whereNotInStrict()</code> {#collection-method}</h4> <p>Este método tiene la misma funcionalidad que el método <a href="#method-wherenotin"><code>whereNotIn</code></a>; sin embargo, todos los valores se comparan utilizando comparaciones &quot;estrictas&quot;.</p> <p><a name="method-wrap"></a></p> <h4 id="wrap-collection-method"><a href="#wrap-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>wrap()</code> {#collection-method}</h4> <p>El método estático <code>wrap</code> envuelve el valor dado en una colección cuando corresponda:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe']</span>

<span class="token variable">$collection</span> <span class="token operator">=</span> Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe']</span>

<span class="token variable">$collection</span> <span class="token operator">=</span> Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'John Doe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ['John Doe']</span>
</code></pre></div><p><a name="method-zip"></a></p> <h4 id="zip-collection-method"><a href="#zip-collection-method" aria-hidden="true" class="header-anchor">#</a> <code>zip()</code> {#collection-method}</h4> <p>El método <code>zip</code> combina los valores del arreglo con los valores de la colección original en el índice correspondiente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$collection</span> <span class="token operator">=</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'Chair'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Desk'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$zipped</span> <span class="token operator">=</span> <span class="token variable">$collection</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$zipped</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [['Chair', 100], ['Desk', 200]]</span>
</code></pre></div><p><a name="higher-order-messages"></a></p> <h2 id="mensajes-de-orden-superior"><a href="#mensajes-de-orden-superior" aria-hidden="true" class="header-anchor">#</a> Mensajes de Orden Superior</h2> <p>Las colecciones también brindan soporte para &quot;mensajes de orden superior&quot;, que son atajos para realizar acciones comunes en las colecciones. Los métodos de recopilación que proporcionan mensajes de orden superior son: <a href="#method-average"><code>average</code></a>, <a href="#method-avg"><code>avg</code></a>, <a href="#method-contains"><code>contains</code></a>, <a href="#method-each"><code>each</code></a>, <a href="#method-every"><code>every</code></a>, <a href="#method-filter"><code>filter</code></a>, <a href="#method-first"><code>first</code></a>, <a href="#method-flatmap"><code>flatMap</code></a>, <a href="#method-groupby"><code>groupBy</code></a>, <a href="#method-keyby"><code>keyBy</code></a>, <a href="#method-map"><code>map</code></a>, <a href="#method-max"><code>max</code></a>, <a href="#method-min"><code>min</code></a>, <a href="#method-partition"><code>partition</code></a>, <a href="#method-reject"><code>reject</code></a>, <a href="#method-some"><code>some</code></a>, <a href="#method-sortby"><code>sortBy</code></a>, <a href="#method-sortbydesc"><code>sortByDesc</code></a>, <a href="#method-sum"><code>sum</code></a>, and <a href="#method-unique"><code>unique</code></a>.</p> <p>Ee puede acceder a cada mensaje de orden superior como una propiedad dinámica en una instancia de colección. Por ejemplo, usemos el mensaje <code>each</code> de orden superior para llamar a un método en cada objeto dentro de una colección:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$users</span> <span class="token operator">=</span> User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'votes'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'&gt;'</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$users</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">each</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">markAsVip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Del mismo modo, podemos usar el mensaje de orden superior <code>sum</code> para reunir el número total de &quot;votos&quot; para una colección de usuarios:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$users</span> <span class="token operator">=</span> User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'group'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Development'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$users</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">sum</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">votes</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/cache.html" class="prev">
          Caché
        </a></span> <span class="next"><a href="/events.html">
          Eventos
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.670d7e7c.js" defer></script><script src="/assets/js/2.e950dd9a.js" defer></script>
  </body>
</html>
