(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{215:function(a,t,e){"use strict";e.r(t);var s=e(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("div",{pre:!0},[e("h1",{pre:!0,attrs:{id:"base-de-datos-migraciones"}},[e("a",{pre:!0,attrs:{class:"header-anchor",href:"#base-de-datos-migraciones","aria-hidden":"true"}},[a._v("#")]),a._v(" Base de datos: Migraciones")]),a._v(" "),e("ul",[e("li",[e("a",{pre:!0,attrs:{href:"#introduction"}},[a._v("Introducción")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#generating-migrations"}},[a._v("Generando Migraciones")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#migration-structure"}},[a._v("Estructura de Migración")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#running-migrations"}},[a._v("Ejecutando Migraciones")]),a._v(" "),e("ul",[e("li",[e("a",{pre:!0,attrs:{href:"#rolling-back-migrations"}},[a._v("Reversando Migraciones")])])])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#tables"}},[a._v("Tablas")]),a._v(" "),e("ul",[e("li",[e("a",{pre:!0,attrs:{href:"#creating-tables"}},[a._v("Creando Tablas")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#renaming-and-dropping-tables"}},[a._v("Renombrando / Eliminando Tablas")])])])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#columns"}},[a._v("Columnas")]),a._v(" "),e("ul",[e("li",[e("a",{pre:!0,attrs:{href:"#creating-columns"}},[a._v("Creando Columnas")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#column-modifiers"}},[a._v("Modificadores de Columna")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#modifying-columns"}},[a._v("Modificando Columnas")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#dropping-columns"}},[a._v("Eliminando Columnas")])])])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#indexes"}},[a._v("Índices")]),a._v(" "),e("ul",[e("li",[e("a",{pre:!0,attrs:{href:"#creating-indexes"}},[a._v("Creación de Índices")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#renaming-indexes"}},[a._v("Renombrando Índices")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#dropping-indexes"}},[a._v("Eliminando Índices")])]),a._v(" "),e("li",[e("a",{pre:!0,attrs:{href:"#foreign-key-constraints"}},[a._v("Restricciones de Clave Foránea")])])])])]),a._v(" "),e("p",[e("a",{pre:!0,attrs:{name:"introduction"}})]),a._v(" "),e("h2",{pre:!0,attrs:{id:"introduccion"}},[e("a",{pre:!0,attrs:{class:"header-anchor",href:"#introduccion","aria-hidden":"true"}},[a._v("#")]),a._v(" Introducción")]),a._v(" "),e("p",[a._v("Las migraciones son como el control de versión para tu base de datos, permiten que tu equipo modifique y comparta fácilmente el esquema de base de datos de la aplicación. Las migraciones son emparejadas típicamente con el constructor de esquema de Laravel para construir fácilmente el esquema de base de datos de tu aplicación. Si inclusive has tenido que decirle a un miembro de equipo que agregue una columna manualmente a sus esquemas de bases de datos local, has encarado el problema que solucionan las migraciones de base de datos.")]),a._v(" "),e("p",[a._v("La clase "),e("a",{pre:!0,attrs:{href:"/docs/%7B%7Bversion%7D%7D/facades"}},[a._v("facade")]),a._v(" "),e("code",[a._v("Schema")]),a._v(" de Laravel proporciona soporte de base de datos orientado a la programación orientada a objetos para la creación y manipulación de tablas a través de todos los sistemas de bases de datos soportados por Laravel.")]),a._v(" "),e("p",[e("a",{pre:!0,attrs:{name:"generating-migrations"}})]),a._v(" "),e("h2",{pre:!0,attrs:{id:"generando-migraciones"}},[e("a",{pre:!0,attrs:{class:"header-anchor",href:"#generando-migraciones","aria-hidden":"true"}},[a._v("#")]),a._v(" Generando Migraciones")]),a._v(" "),e("p",[a._v("Para crear una migración, usa el "),e("a",{pre:!0,attrs:{href:"/docs/%7B%7Bversion%7D%7D/artisan"}},[a._v("comando Artisan")]),a._v(" "),e("code",[a._v("make:migration")]),a._v(":")]),a._v(" "),e("div",{pre:!0,attrs:{class:"language-php extra-class"}},[e("pre",{pre:!0,attrs:{"v-pre":"",class:"language-php"}},[e("code",[a._v("php artisan make"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("migration create_users_table\n")])])]),e("p",[a._v("La nueva migración estará ubicada en tu directorio "),e("code",[a._v("database/migrations")]),a._v(". Cada nombre de archivo de migración contiene una marca de tiempo la cual permite que Laravel determine el orden de las migraciones.")]),a._v(" "),e("p",[a._v("Las opciones "),e("code",[a._v("--table")]),a._v(" y "),e("code",[a._v("--create")]),a._v(" también pueden ser usadas para indicar el nombre de la tabla y si la migración estará creando una nueva tabla. Estas opciones rellenan previamente el archivo stub de migración generado con la tabla especificada:")]),a._v(" "),e("div",{pre:!0,attrs:{class:"language-php extra-class"}},[e("pre",{pre:!0,attrs:{"v-pre":"",class:"language-php"}},[e("code",[a._v("php artisan make"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("migration create_users_table "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("create"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("users\n\nphp artisan make"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("migration add_votes_to_users_table "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("table"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("users\n")])])]),e("p",[a._v("Si prefieres especificar una ruta de directorio de salida personalizada para la migración generada, puedes usar la opción "),e("code",[a._v("--path")]),a._v(" al momento de ejecutar el comando "),e("code",[a._v("make:migration")]),a._v(". La ruta de directorio dada debe ser relativa a la ruta de directorio base de tu aplicación.")]),a._v(" "),e("p",[e("a",{pre:!0,attrs:{name:"migration-structure"}})]),a._v(" "),e("h2",{pre:!0,attrs:{id:"estructura-de-migracion"}},[e("a",{pre:!0,attrs:{class:"header-anchor",href:"#estructura-de-migracion","aria-hidden":"true"}},[a._v("#")]),a._v(" Estructura de Migración")]),a._v(" "),e("p",[a._v("Una clase de migración contiene dos métodos: "),e("code",[a._v("up")]),a._v(" y "),e("code",[a._v("down")]),a._v(". El método "),e("code",[a._v("up")]),a._v(" es usado para agregar nuevas tablas, columnas, o índices para tu base de datos, mientras el método "),e("code",[a._v("down")]),a._v(" debería reversar las operaciones ejecutadas por el método "),e("code",[a._v("up")]),a._v(".")]),a._v(" "),e("p",[a._v("Dentro de ambos métodos puedes usar el constructor de esquema de Laravel para crear y modificar expresivamente las tablas. Para aprender sobre todos los métodos disponibles en el constructor "),e("code",[a._v("Schema")]),a._v(", "),e("a",{pre:!0,attrs:{href:"#creating-tables"}},[a._v("inspecciona su documentación")]),a._v(". Por ejemplo, este ejemplo de migración crea una tabla "),e("code",[a._v("flights")]),a._v(":")]),a._v(" "),e("div",{pre:!0,attrs:{class:"language-php extra-class"}},[e("pre",{pre:!0,attrs:{"v-pre":"",class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Support"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Facades"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Schema")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Blueprint")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Migrations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Migration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CreateFlightsTable")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Migration")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n    * Run the migrations.\n    *\n    * @return void\n    */")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("up")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'flights'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("increments")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'airline'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("timestamps")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n    * Reverse the migrations.\n    *\n    * @return void\n    */")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("down")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("drop")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'flights'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),e("p",[e("a",{pre:!0,attrs:{name:"running-migrations"}})]),a._v(" "),e("h2",{pre:!0,attrs:{id:"ejecutando-migraciones"}},[e("a",{pre:!0,attrs:{class:"header-anchor",href:"#ejecutando-migraciones","aria-hidden":"true"}},[a._v("#")]),a._v(" Ejecutando Migraciones")]),a._v(" "),e("p",[a._v("Para ejecutar todas tus maravillosas migraciones, ejecuta el comando Artisan "),e("code",[a._v("migrate")]),a._v(":")]),a._v(" "),e("div",{pre:!0,attrs:{class:"language-php extra-class"}},[e("pre",{pre:!0,attrs:{"v-pre":"",class:"language-php"}},[e("code",[a._v("php artisan migrate\n")])])]),e("div",{pre:!0,attrs:{class:"danger custom-block"}},[e("p",{pre:!0,attrs:{class:"custom-block-title"}},[a._v("Nota")]),a._v(" "),e("p",[a._v("Si estás usando "),e("a",{pre:!0,attrs:{href:"/docs/%7B%7Bversion%7D%7D/homestead"}},[a._v("La máquina virtual de Homestead")]),a._v(", deberías ejecutar este comando desde dentro de tu máquina virtual.")])])]),a._v(" "),e("h4",{attrs:{id:"forzando-las-migraciones-para-ejecutar-en-produccion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#forzando-las-migraciones-para-ejecutar-en-produccion","aria-hidden":"true"}},[a._v("#")]),a._v(" Forzando las Migraciones para Ejecutar en Producción")]),a._v(" "),e("p",[a._v("Algunas operaciones de migración son destructivas, lo que significa que pueden causar que pierdas tus datos. Con el propósito de protegerte de ejecutar estos comandos contra tu base de datos de producción, recibirás un mensaje de confirmación antes que los comandos sean ejecutados. Para forzar que los comandos se ejecuten sin retardo, usa el indicador "),e("code",[a._v("--force")]),a._v(".")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("force\n")])])]),e("p",[e("a",{attrs:{name:"rolling-back-migrations"}})]),a._v(" "),e("h3",{attrs:{id:"reversando-migraciones"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reversando-migraciones","aria-hidden":"true"}},[a._v("#")]),a._v(" Reversando Migraciones")]),a._v(" "),e("p",[a._v("Para reversar la operación de migración más reciente, puedes usar el comando "),e("code",[a._v("rollback")]),a._v('. Este comando reversa el último "lote" de migraciones, los cuales pueden incluir archivos de migración múltiples.')]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("rollback\n")])])]),e("p",[a._v("Puedes reversar un número limitado de migraciones proporcionando la opción "),e("code",[a._v("step")]),a._v(" al comando "),e("code",[a._v("rollback")]),a._v('. Por ejemplo, el siguiente comando revertirá los cinco "lotes" de migraciones más recientes:')]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("rollback "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("step"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("\n")])])]),e("p",[a._v("El comando "),e("code",[a._v("migrate:reset")]),a._v(" revertirá todas las migraciones de tu aplicación:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("reset\n")])])]),e("h4",{attrs:{id:"rollback-migrate-en-un-unico-comando"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rollback-migrate-en-un-unico-comando","aria-hidden":"true"}},[a._v("#")]),a._v(" Rollback & Migrate En un Único Comando")]),a._v(" "),e("p",[a._v("El comando "),e("code",[a._v("migrate:refresh")]),a._v(" reversará todas tus migraciones y después ejecutará el comando "),e("code",[a._v("migrate")]),a._v(". Este comando vuelve a crear efectivamente tu base de datos entera:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("refresh\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Refresh the database and run all database seeds...")]),a._v("\nphp artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("refresh "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("seed\n")])])]),e("p",[a._v("Puedes reversar y volver a migrar un número limitado de migraciones proporcionando la opción "),e("code",[a._v("step")]),a._v(" al comando "),e("code",[a._v("refresh")]),a._v(". Por ejemplo, el siguiente comando revertirá y volverá a migrar las cinco migraciones más recientes:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("refresh "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("step"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("\n")])])]),e("h4",{attrs:{id:"eliminando-todas-las-tablas-y-migrar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eliminando-todas-las-tablas-y-migrar","aria-hidden":"true"}},[a._v("#")]),a._v(" Eliminando Todas las Tablas y Migrar")]),a._v(" "),e("p",[a._v("El comando "),e("code",[a._v("migrate:fresh")]),a._v(" eliminará todas las tablas de la base de datos y después ejecutará el comando "),e("code",[a._v("migrate")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("php artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("fresh\n\nphp artisan migrate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("fresh "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("seed\n")])])]),e("p",[e("a",{attrs:{name:"tables"}})]),a._v(" "),e("h2",{attrs:{id:"tablas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tablas","aria-hidden":"true"}},[a._v("#")]),a._v(" Tablas")]),a._v(" "),e("p",[e("a",{attrs:{name:"creating-tables"}})]),a._v(" "),e("h3",{attrs:{id:"creando-tablas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creando-tablas","aria-hidden":"true"}},[a._v("#")]),a._v(" Creando Tablas")]),a._v(" "),e("p",[a._v("Para crear una nueva tabla en la base de datos, usa el método "),e("code",[a._v("create")]),a._v(" en la clase facade "),e("code",[a._v("Schema")]),a._v(". El método "),e("code",[a._v("create")]),a._v(" acepta dos argumentos. El primero es el nombre de la tabla, mientras que el segundo es una "),e("code",[a._v("Closure")]),a._v(" la cual recibe un objeto de la clase "),e("code",[a._v("Blueprint")]),a._v(" que puede ser usado para definir la nueva tabla:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("increments")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Al momento de crear la tabla, puedes usar cualquiera de "),e("a",{attrs:{href:"#creating-columns"}},[a._v("los métodos de columna")]),a._v(" del constructor de esquemas para definir las columnas de la tabla.")]),a._v(" "),e("h4",{attrs:{id:"inspeccionando-la-tabla-existencia-de-columna"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inspeccionando-la-tabla-existencia-de-columna","aria-hidden":"true"}},[a._v("#")]),a._v(" Inspeccionando la Tabla / Existencia de Columna")]),a._v(" "),e("p",[a._v("Puedes inspeccionar fácilmente la existencia de una tabla o columna usando los métodos "),e("code",[a._v("hasTable")]),a._v(" y "),e("code",[a._v("hasColumn")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("hasTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("hasColumn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("h4",{attrs:{id:"conexion-de-base-de-datos-opciones-de-tabla"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#conexion-de-base-de-datos-opciones-de-tabla","aria-hidden":"true"}},[a._v("#")]),a._v(" Conexión de Base de Datos & Opciones de Tabla")]),a._v(" "),e("p",[a._v("Si quieres ejecutar una operación de esquema en una conexión de base de datos que no es tu conexión predeterminada, usa el método "),e("code",[a._v("connection")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("connection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'foo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("increments")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Puedes usar los siguientes comandos en el constructor de esquema para definir las opciones de tabla:")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Comando")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("$table->engine = 'InnoDB';")])]),a._v(" "),e("td",[a._v("Especifica el motor de almacenamiento de la tabla. (Sólo en MySQL).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->charset = 'utf8';")])]),a._v(" "),e("td",[a._v("Especifica un conjunto de caracteres. (Sólo en MySQL).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->collation = 'utf8_unicode_ci';")])]),a._v(" "),e("td",[a._v("Especifica un orden predeterminado para la tabla. (Sólo en MySQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->temporary();")])]),a._v(" "),e("td",[a._v("Crea una tabla temporal (excepto en SQL Server).")])])])]),a._v(" "),e("p",[e("a",{attrs:{name:"renaming-and-dropping-tables"}})]),a._v(" "),e("h3",{attrs:{id:"renombrando-eliminando-tablas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renombrando-eliminando-tablas","aria-hidden":"true"}},[a._v("#")]),a._v(" Renombrando / Eliminando Tablas")]),a._v(" "),e("p",[a._v("Para renombrar una tabla de base de datos existente, usa el método "),e("code",[a._v("rename")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rename")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$to")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Para eliminar una tabla existente, puedes usar los métodos "),e("code",[a._v("drop")]),a._v(" o "),e("code",[a._v("dropIfExists")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("drop")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nSchema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropIfExists")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("h4",{attrs:{id:"renombrando-tablas-con-claves-foraneas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renombrando-tablas-con-claves-foraneas","aria-hidden":"true"}},[a._v("#")]),a._v(" Renombrando Tablas con Claves Foráneas")]),a._v(" "),e("p",[a._v("Antes de renombrar una tabla, deberías verificar que cualquiera de las restricciones de clave foránea en la tabla tenga un nombre explícito en tus archivos de migración en caso de permitir que Laravel asigne un nombre basado en la convención. De otra manera, el nombre de restricción de clave foránea se referirá al nombre que tenía la tabla.")]),a._v(" "),e("p",[e("a",{attrs:{name:"columns"}})]),a._v(" "),e("h2",{attrs:{id:"columnas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#columnas","aria-hidden":"true"}},[a._v("#")]),a._v(" Columnas")]),a._v(" "),e("p",[e("a",{attrs:{name:"creating-columns"}})]),a._v(" "),e("h3",{attrs:{id:"creando-columnas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creando-columnas","aria-hidden":"true"}},[a._v("#")]),a._v(" Creando Columnas")]),a._v(" "),e("p",[a._v("El método "),e("code",[a._v("table")]),a._v(" en la clase facade "),e("code",[a._v("Schema")]),a._v(" puede ser usado para actualizar tablas existentes. Igual que el método "),e("code",[a._v("create")]),a._v(" acepta dos argumentos: el nombre de la tabla y una "),e("code",[a._v("Closure")]),a._v(" que recibe una instancia de la clase "),e("code",[a._v("Blueprint")]),a._v(" que puedes usar para agregar columnas a la tabla:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("h4",{attrs:{id:"tipos-de-columna-permitidos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tipos-de-columna-permitidos","aria-hidden":"true"}},[a._v("#")]),a._v(" Tipos de Columna Permitidos")]),a._v(" "),e("p",[a._v("El constructor de esquema contiene una variedad de tipos de columna que puedes especificar al momento de construir tus tablas:")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Comando")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("$table->bigIncrements('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a Auto-incremento UNSIGNED BIGINT (clave primaria).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->bigInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a BIGINT equivalent.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->binary('data');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a BLOB.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->boolean('confirmed');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a BOOLEAN.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->char('name', 100);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a CHAR con una longitud opcional.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->date('created_at');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a DATE.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dateTime('created_at');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a DATETIME.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dateTimeTz('created_at');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a DATETIME (con hora de la zona).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->decimal('amount', 8, 2);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a DECIMAL con una precisión (el total de dígitos) y escala de dígitos decimales.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->double('amount', 8, 2);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a DOUBLE con una precisión (el total de dígitos) y escala de dígitos decimales.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->enum('level', ['easy', 'hard']);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a ENUM.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->float('amount', 8, 2);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a FLOAT con una precisión (el total de dígitos) y escala de dígitos decimales.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->geometry('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a GEOMETRY.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->geometryCollection('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a GEOMETRYCOLLECTION.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->increments('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a Auto-incremento UNSIGNED INTEGER (clave primaria).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->integer('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a INTEGER.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->ipAddress('visitor');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a dirección IP.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->json('options');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a JSON.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->jsonb('options');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a JSONB.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->lineString('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a LINESTRING.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->longText('description');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a LONGTEXT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->macAddress('device');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a dirección MAC.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->mediumIncrements('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a Auto-incremento UNSIGNED MEDIUMINT (clave primaria).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->mediumInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a MEDIUMINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->mediumText('description');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a MEDIUMTEXT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->morphs('taggable');")])]),a._v(" "),e("td",[a._v("Agrega los tipos de columna equivalente a UNSIGNED INTEGER "),e("code",[a._v("taggable_id")]),a._v(" y VARCHAR "),e("code",[a._v("taggable_type")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->multiLineString('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a MULTILINESTRING.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->multiPoint('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a MULTIPOINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->multiPolygon('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a MULTIPOLYGON.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->nullableMorphs('taggable');")])]),a._v(" "),e("td",[a._v("Permite que la columna "),e("code",[a._v("morphs()")]),a._v(" acepte una versión de valor nulo.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->nullableTimestamps();")])]),a._v(" "),e("td",[a._v("Método Alias de "),e("code",[a._v("timestamps()")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->point('position');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a POINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->polygon('positions');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a POLYGON.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->rememberToken();")])]),a._v(" "),e("td",[a._v("Permite nulos en el tipo de columna equivalente a VARCHAR(100) "),e("code",[a._v("remember_token")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->smallIncrements('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a Auto-incremento UNSIGNED SMALLINT (clave primaria).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->smallInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a SMALLINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->softDeletes();")])]),a._v(" "),e("td",[a._v("Permite nulos en el tipo de columna equivalente a TIMESTAMP "),e("code",[a._v("deleted_at")]),a._v(" para eliminaciones.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->softDeletesTz();")])]),a._v(" "),e("td",[a._v("Permite nulos en el tipo de columna equivalente a TIMESTAMP "),e("code",[a._v("deleted_at")]),a._v(" (con la hora de la zona) para eliminaciones.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->string('name', 100);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a VARCHAR con una longitud opcional.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->text('description');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TEXT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->time('sunrise');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TIME.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->timeTz('sunrise');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TIME (con la hora de la zona).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->timestamp('added_on');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TIMESTAMP.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->timestampTz('added_on');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TIMESTAMP (con la hora de la zona).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->timestamps();")])]),a._v(" "),e("td",[a._v("Permite nulos en las columnas equivalentes TIMESTAMP "),e("code",[a._v("created_at")]),a._v(" y "),e("code",[a._v("updated_at")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->timestampsTz();")])]),a._v(" "),e("td",[a._v("Permite nulos en las columnas equivalentes TIMESTAMP "),e("code",[a._v("created_at")]),a._v(" y "),e("code",[a._v("updated_at")]),a._v(" (con la hora de la zona).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->tinyIncrements('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a Auto-incremento UNSIGNED TINYINT (clave primaria).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->tinyInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a TINYINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedBigInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED BIGINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedDecimal('amount', 8, 2);")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED DECIMAL con una precisión (total de dígitos) escala (dígitos decimales).")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED INTEGER.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedMediumInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED MEDIUMINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedSmallInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED SMALLINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unsignedTinyInteger('votes');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UNSIGNED TINYINT.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->uuid('id');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a UUID.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->year('birth_year');")])]),a._v(" "),e("td",[a._v("Tipo de columna equivalente a YEAR.")])])])]),a._v(" "),e("p",[e("a",{attrs:{name:"column-modifiers"}})]),a._v(" "),e("h3",{attrs:{id:"modificadores-de-columna"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modificadores-de-columna","aria-hidden":"true"}},[a._v("#")]),a._v(" Modificadores de Columna")]),a._v(" "),e("p",[a._v('Además de los tipos de columna listados anteriormente, hay varios "modificadores" de columna que puedes usar al momento de agregar una columna a la tabla de base de datos. Por ejemplo, para hacer que la columna "acepte valores nulos", puedes usar el método '),e("code",[a._v("nullable")]),a._v(".")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("nullable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Debajo está una lista con todos los modificadores de columna disponibles. Esta lista no incluye los "),e("a",{attrs:{href:"#creating-indexes"}},[a._v("modificadores de índice")]),a._v(":")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Modificador")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("->after('column')")])]),a._v(" "),e("td",[a._v('Coloca la columna "después de" otra columna (MySQL)')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->autoIncrement()")])]),a._v(" "),e("td",[a._v("Establece las columnas tipo INTEGER como auto-incremento (clave primaria)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->charset('utf8')")])]),a._v(" "),e("td",[a._v("Especifica un conjunto de caracteres para la columna (MySQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->collation('utf8_unicode_ci')")])]),a._v(" "),e("td",[a._v("Especifica un ordenamiento para la columna (MySQL/SQL Server)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->comment('my comment')")])]),a._v(" "),e("td",[a._v("Agrega un comentario a una columna (MySQL/PostgreSQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->default($value)")])]),a._v(" "),e("td",[a._v('Especifica un valor "predeterminado" para la columna')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->first()")])]),a._v(" "),e("td",[a._v('Coloca la columna al "principio" en la tabla (MySQL)')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->nullable($value = true)")])]),a._v(" "),e("td",[a._v("Permite que valores NULL (por defecto) sean insertados dentro de la columna")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->storedAs($expression)")])]),a._v(" "),e("td",[a._v("Crea una columna almacenada generada por la expresión (MySQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->unsigned()")])]),a._v(" "),e("td",[a._v("Establece las columnas tipo INTEGER como UNSIGNED (MySQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->useCurrent()")])]),a._v(" "),e("td",[a._v("Establece las columnas tipo TIMESTAMP para usar CURRENT_TIMESTAMP como valor predeterminado")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->virtualAs($expression)")])]),a._v(" "),e("td",[a._v("Crea una columna virtual generada por la expresión (MySQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->generatedAs($expression)")])]),a._v(" "),e("td",[a._v("Crea una columna de identidad con opciones de secuencia especificadas (PostgreSQL)")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("->always()")])]),a._v(" "),e("td",[a._v("Define la prioridad de los valores de secuencia sobre la entrada para una columna de identidad (PostgreSQL)")])])])]),a._v(" "),e("p",[e("a",{attrs:{name:"modifying-columns"}})]),a._v(" "),e("h3",{attrs:{id:"modificando-columnas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modificando-columnas","aria-hidden":"true"}},[a._v("#")]),a._v(" Modificando Columnas")]),a._v(" "),e("h4",{attrs:{id:"prerequisitos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisitos","aria-hidden":"true"}},[a._v("#")]),a._v(" Prerequisitos")]),a._v(" "),e("p",[a._v("Antes de modificar una columna, asegúrate de agregar la dependencia "),e("code",[a._v("doctrine/dbal")]),a._v(" a tu archivo "),e("code",[a._v("composer.json")]),a._v(". La biblioteca DBAL de Doctrine es usada para determinar el estado actual de la columna y crear las consultas SQL necesarias para hacer los ajustes especificados a la columna:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("composer "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("require")]),a._v(" doctrine"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("dbal\n")])])]),e("h4",{attrs:{id:"actualizando-los-atributos-de-columna"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#actualizando-los-atributos-de-columna","aria-hidden":"true"}},[a._v("#")]),a._v(" Actualizando los atributos de Columna")]),a._v(" "),e("p",[a._v("El método "),e("code",[a._v("change")]),a._v(" permite que modifiques algunos tipos de columna existentes a un nuevo tipo o modifiques los atributos de la columna. Por ejemplo, puedes querer aumentar el tamaño de una columna tipo cadena. Para ver el método "),e("code",[a._v("change")]),a._v(" en acción, vamos a aumentar el tamaño de la columna "),e("code",[a._v("name")]),a._v(" de 25 a 50 caracteres:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("change")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("También podríamos modificar una columna para que acepte valores nulos:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("nullable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("change")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("Nota")]),a._v(" "),e("p",[a._v('Solamente los siguientes tipos de columna pueden ser "cambiados": bigInteger, binary, boolean, date, dateTime, dateTimeTz, decimal, integer, json, longText, mediumText, smallInteger, string, text, time, unsignedBigInteger, unsignedInteger y unsignedSmallInteger.')])]),a._v(" "),e("h4",{attrs:{id:"renombrando-columnas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renombrando-columnas","aria-hidden":"true"}},[a._v("#")]),a._v(" Renombrando Columnas")]),a._v(" "),e("p",[a._v("Para renombrar una columna, puedes usar el método "),e("code",[a._v("renameColumn")]),a._v(" en el constructor de esquemas. Antes de renombrar una columna, asegúrate de agregar la dependencia "),e("code",[a._v("doctrine/dbal")]),a._v(" a tu archivo "),e("code",[a._v("composer.json")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("renameColumn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'from'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'to'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("Nota")]),a._v(" "),e("p",[a._v("Renombrar alguna columna en una tabla que también tiene una columna de tipo "),e("code",[a._v("enum")]),a._v(" no es soportado actualmente.")])]),a._v(" "),e("p",[e("a",{attrs:{name:"dropping-columns"}})]),a._v(" "),e("h3",{attrs:{id:"eliminando-columnas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eliminando-columnas","aria-hidden":"true"}},[a._v("#")]),a._v(" Eliminando Columnas")]),a._v(" "),e("p",[a._v("Para eliminar una columna, usa el método "),e("code",[a._v("dropColumn")]),a._v(" en el constructor de esquemas. Antes de eliminar columnas de una base de datos SQLite, necesitarás agregar la dependencia "),e("code",[a._v("doctrine/dbal")]),a._v(" a tu archivo "),e("code",[a._v("composer.json")]),a._v(" y ejecutar el comando "),e("code",[a._v("composer update")]),a._v(" en tu terminal para instalar la biblioteca:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropColumn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'votes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Puedes eliminar múltiples columnas de una tabla al pasar un arreglo de nombres de columna al método "),e("code",[a._v("dropColumn")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropColumn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'votes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'avatar'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'location'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("Nota")]),a._v(" "),e("p",[a._v("Eliminar o modificar múltiples columnas dentro de una sola migración al momento de usar una base de datos SQLite no está soportado.")])]),a._v(" "),e("h4",{attrs:{id:"alias-de-comandos-disponibles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#alias-de-comandos-disponibles","aria-hidden":"true"}},[a._v("#")]),a._v(" Alias de Comandos Disponibles")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Comando")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("$table->dropRememberToken();")])]),a._v(" "),e("td",[a._v("Eliminar la columna "),e("code",[a._v("remember_token")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropSoftDeletes();")])]),a._v(" "),e("td",[a._v("Eliminar la columna "),e("code",[a._v("deleted_at")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropSoftDeletesTz();")])]),a._v(" "),e("td",[a._v("Alias del método "),e("code",[a._v("dropSoftDeletes()")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropTimestamps();")])]),a._v(" "),e("td",[a._v("Eliminar las columnas "),e("code",[a._v("created_at")]),a._v(" y "),e("code",[a._v("updated_at")]),a._v(".")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropTimestampsTz();")])]),a._v(" "),e("td",[a._v("Alias del método "),e("code",[a._v("dropTimestamps()")]),a._v(".")])])])]),a._v(" "),e("p",[e("a",{attrs:{name:"indexes"}})]),a._v(" "),e("h2",{attrs:{id:"indices"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#indices","aria-hidden":"true"}},[a._v("#")]),a._v(" Índices")]),a._v(" "),e("p",[e("a",{attrs:{name:"creating-indexes"}})]),a._v(" "),e("h3",{attrs:{id:"creando-indices"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creando-indices","aria-hidden":"true"}},[a._v("#")]),a._v(" Creando Índices")]),a._v(" "),e("p",[a._v("El constructor de esquemas soporta varios tipos de índices. Primero, veamos un ejemplo que especifica que los valores de una columna deben ser únicos. Para crear el índice, podemos encadenar el método "),e("code",[a._v("unique")]),a._v(" en la definición de columna:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("unique")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Alternativamente, puedes crear el índice después de la definición de la columna. Por ejemplo:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("unique")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Incluso puedes pasar un arreglo de columnas a un método de índice para crear un índice compuesto (o combinado) :")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'account_id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'created_at'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Laravel generará automáticamente un nombre de índice razonable, pero puedes pasar un segundo argumento al método para especificar el nombre por ti mismo.")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("unique")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'unique_email'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("h4",{attrs:{id:"tipos-de-indice-disponibles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tipos-de-indice-disponibles","aria-hidden":"true"}},[a._v("#")]),a._v(" Tipos de Índice Disponibles")]),a._v(" "),e("p",[a._v("Cada método de índice acepta un segundo argumento opcional para especificar el nombre del índice. Si se omite, el nombre se derivará de los nombres de la tabla y la(s) columna(s).")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Comando")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("$table->primary('id');")])]),a._v(" "),e("td",[a._v("Agrega una clave primaria.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->primary(['id', 'parent_id']);")])]),a._v(" "),e("td",[a._v("Agrega claves compuestas.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->unique('email');")])]),a._v(" "),e("td",[a._v("Agrega un índice único.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->index('state');")])]),a._v(" "),e("td",[a._v("Agrega un índice con valores repetidos.")])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->spatialIndex('location');")])]),a._v(" "),e("td",[a._v("Agrega un índice espacial. (excepto SQLite)")])])])]),a._v(" "),e("h4",{attrs:{id:"longitudes-de-indices-mysql-mariadb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#longitudes-de-indices-mysql-mariadb","aria-hidden":"true"}},[a._v("#")]),a._v(" Longitudes de Índices & MySQL / MariaDB")]),a._v(" "),e("p",[a._v("Laravel usa el conjunto de caracteres "),e("code",[a._v("utf8mb4")]),a._v(' por defecto, el cual incluye soporte para almacenar "emojis" en la base de datos. Si estás ejecutando una versión de MySQL más antigua que la versión 5.7.7 o más vieja que la versión 10.2.2 de MariaDB, puedes que necesites configurar manualmente la longitud de cadena predeterminada generada por las migraciones con el propósito de que MySQL cree los índices para estos. Puedes configurar esto ejecutando el método '),e("code",[a._v("Schema::defaultStringLength")]),a._v(" dentro de tu "),e("code",[a._v("AppServiceProvider")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Support"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Facades"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Schema")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n* Bootstrap any application services.\n*\n* @return void\n*/")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("boot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("defaultStringLength")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("191")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("p",[a._v("Alternativamente, puedes habilitar la opción "),e("code",[a._v("innodb_large_prefix")]),a._v(" para tu base de datos. Debes referirte a la documentación de tu base de datos para conocer las instrucciones de cómo habilitar ésta apropiadamente.")]),a._v(" "),e("p",[e("a",{attrs:{name:"renaming-indexes"}})]),a._v(" "),e("h3",{attrs:{id:"renombrando-indices"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renombrando-indices","aria-hidden":"true"}},[a._v("#")]),a._v(" Renombrando Índices")]),a._v(" "),e("p",[a._v("Para renombrar un índice, puedes usar el método "),e("code",[a._v("renameIndex")]),a._v(". Este método acepta el nombre del índice actual como primer argumento y el nombre deseado como segundo argumento:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("renameIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'from'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'to'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),e("p",[e("a",{attrs:{name:"dropping-indexes"}})]),a._v(" "),e("h3",{attrs:{id:"eliminando-indices"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eliminando-indices","aria-hidden":"true"}},[a._v("#")]),a._v(" Eliminando Índices")]),a._v(" "),e("p",[a._v("Para eliminar un índice, debes especificar el nombre del índice. De forma predeterminada, Laravel asigna automáticamente un nombre razonable para los índices. Concatena el nombre de la tabla, el nombre de la columna indexada y el tipo de índice. Aquí están algunos ejemplos:")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("Comando")]),a._v(" "),e("th",[a._v("Descripción")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[e("code",[a._v("$table->dropPrimary('users_id_primary');")])]),a._v(" "),e("td",[a._v('Eliminar una clave primaria de la tabla "users".')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropUnique('users_email_unique');")])]),a._v(" "),e("td",[a._v('Elimina un índice único de la tabla "users".')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropIndex('geo_state_index');")])]),a._v(" "),e("td",[a._v('Elimina un índice básico de la tabla "geo".')])]),a._v(" "),e("tr",[e("td",[e("code",[a._v("$table->dropSpatialIndex('geo_location_spatialindex');")])]),a._v(" "),e("td",[a._v('Elimina un índice espacial de la tabla "geo" (excepto SQLite).')])])])]),a._v(" "),e("p",[a._v("Si pasas un arreglo de columnas dentro de un método que elimina los índices, el nombre de índice convencional será generado basado en el nombre de la tabla, columnas y tipo de clave:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'geo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'state'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Drops index 'geo_state_index'")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[e("a",{attrs:{name:"foreign-key-constraints"}})]),a._v(" "),e("h3",{attrs:{id:"restricciones-de-clave-foranea"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restricciones-de-clave-foranea","aria-hidden":"true"}},[a._v("#")]),a._v(" Restricciones de Clave Foránea")]),a._v(" "),e("p",[a._v("Laravel también proporciona soporte para la creación de restricciones de clave foránea, las cuales son usadas para forzar la integridad referencial a nivel de base de datos.  Por ejemplo, vamos a definir una columna "),e("code",[a._v("user_id")]),a._v(" en la tabla "),e("code",[a._v("posts")]),a._v(" que referencia la columna "),e("code",[a._v("id")]),a._v(" en una tabla "),e("code",[a._v("users")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'posts'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Blueprint "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("unsignedBigInteger")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'user_id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("foreign")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'user_id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("references")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v('También puedes especificar la acción deseada para las propiedades "on delete" y "on update" de la restricción:')]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("foreign")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'user_id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("references")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'users'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("onDelete")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'cascade'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Para eliminar una clave foránea, puedes usar el método "),e("code",[a._v("dropForeign")]),a._v('. Las restricciones de clave foránea usan la misma convención de nombres que los índices. Así, concatenaremos el nombre de la tabla y el de columna en la restricción luego agrega el sufijo "_foreign" al nombre:')]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropForeign")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'posts_user_id_foreign'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("O, puedes pasar un arreglo de valores el cual usará automáticamente el nombre de restricción convencional al momento de eliminar:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$table")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("dropForeign")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'user_id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[a._v("Puedes habilitar o deshabilitar las restricciones de clave foránea dentro de tus migraciones usando los siguientes métodos:")]),a._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[a._v("Schema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableForeignKeyConstraints")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nSchema"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("disableForeignKeyConstraints")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("Nota")]),a._v(" "),e("p",[a._v("SQLite deshabilita las restricciones de clave foránea de forma predeterminada. Al usar SQLite, asegúrese de "),e("a",{attrs:{href:"/docs/%7B%7Bversion%7D%7D/database#configuration"}},[a._v("habilitar el soporte de clave foránea")]),a._v(" en la configuración de tu base de datos antes de intentar crearlos en sus migraciones.")])])])}],!1,null,null,null);t.default=n.exports}}]);